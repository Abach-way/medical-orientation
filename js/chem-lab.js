/* ============================================
   CHEMISTRY LABORATORY ‚Äî GAME ENGINE v2
   Game flow: Search ‚Üí Add to Table ‚Üí Pour into Flask ‚Üí React!
   60+ reactions including dangerous ones
   ============================================ */

(function() {
    'use strict';

    // ========================================
    // SUBSTANCE DATABASE (elements + compounds)
    // ========================================
    const SUBSTANCES = {
        // === –≠–õ–ï–ú–ï–ù–¢–´ ===
        H:    { id:'H',    symbol:'H',      name:'–í–æ–¥–æ—Ä–æ–¥',     cat:'nonmetal',   num:1 },
        He:   { id:'He',   symbol:'He',     name:'–ì–µ–ª–∏–π',       cat:'noble',      num:2 },
        Li:   { id:'Li',   symbol:'Li',     name:'–õ–∏—Ç–∏–π',       cat:'alkali',     num:3 },
        C:    { id:'C',    symbol:'C',      name:'–£–≥–ª–µ—Ä–æ–¥',     cat:'nonmetal',   num:6 },
        N:    { id:'N',    symbol:'N',      name:'–ê–∑–æ—Ç',        cat:'nonmetal',   num:7 },
        O:    { id:'O',    symbol:'O',      name:'–ö–∏—Å–ª–æ—Ä–æ–¥',    cat:'nonmetal',   num:8 },
        F:    { id:'F',    symbol:'F',      name:'–§—Ç–æ—Ä',        cat:'halogen',    num:9 },
        Na:   { id:'Na',   symbol:'Na',     name:'–ù–∞—Ç—Ä–∏–π',      cat:'alkali',     num:11 },
        Mg:   { id:'Mg',   symbol:'Mg',     name:'–ú–∞–≥–Ω–∏–π',      cat:'alkaline',   num:12 },
        Al:   { id:'Al',   symbol:'Al',     name:'–ê–ª—é–º–∏–Ω–∏–π',    cat:'metal',      num:13 },
        Si:   { id:'Si',   symbol:'Si',     name:'–ö—Ä–µ–º–Ω–∏–π',     cat:'nonmetal',   num:14 },
        P:    { id:'P',    symbol:'P',      name:'–§–æ—Å—Ñ–æ—Ä',      cat:'nonmetal',   num:15 },
        S:    { id:'S',    symbol:'S',      name:'–°–µ—Ä–∞',        cat:'nonmetal',   num:16 },
        Cl:   { id:'Cl',   symbol:'Cl',     name:'–•–ª–æ—Ä',        cat:'halogen',    num:17 },
        K:    { id:'K',    symbol:'K',      name:'–ö–∞–ª–∏–π',       cat:'alkali',     num:19 },
        Ca:   { id:'Ca',   symbol:'Ca',     name:'–ö–∞–ª—å—Ü–∏–π',     cat:'alkaline',   num:20 },
        Ti:   { id:'Ti',   symbol:'Ti',     name:'–¢–∏—Ç–∞–Ω',       cat:'transition', num:22 },
        Cr:   { id:'Cr',   symbol:'Cr',     name:'–•—Ä–æ–º',        cat:'transition', num:24 },
        Mn:   { id:'Mn',   symbol:'Mn',     name:'–ú–∞—Ä–≥–∞–Ω–µ—Ü',    cat:'transition', num:25 },
        Fe:   { id:'Fe',   symbol:'Fe',     name:'–ñ–µ–ª–µ–∑–æ',      cat:'transition', num:26 },
        Co:   { id:'Co',   symbol:'Co',     name:'–ö–æ–±–∞–ª—å—Ç',     cat:'transition', num:27 },
        Ni:   { id:'Ni',   symbol:'Ni',     name:'–ù–∏–∫–µ–ª—å',      cat:'transition', num:28 },
        Cu:   { id:'Cu',   symbol:'Cu',     name:'–ú–µ–¥—å',        cat:'transition', num:29 },
        Zn:   { id:'Zn',   symbol:'Zn',     name:'–¶–∏–Ω–∫',       cat:'transition', num:30 },
        Br:   { id:'Br',   symbol:'Br',     name:'–ë—Ä–æ–º',        cat:'halogen',    num:35 },
        Ag:   { id:'Ag',   symbol:'Ag',     name:'–°–µ—Ä–µ–±—Ä–æ',     cat:'transition', num:47 },
        Sn:   { id:'Sn',   symbol:'Sn',     name:'–û–ª–æ–≤–æ',       cat:'transition', num:50 },
        I:    { id:'I',    symbol:'I',      name:'–ô–æ–¥',         cat:'halogen',    num:53 },
        Ba:   { id:'Ba',   symbol:'Ba',     name:'–ë–∞—Ä–∏–π',       cat:'alkaline',   num:56 },
        W:    { id:'W',    symbol:'W',      name:'–í–æ–ª—å—Ñ—Ä–∞–º',    cat:'transition', num:74 },
        Pt:   { id:'Pt',   symbol:'Pt',     name:'–ü–ª–∞—Ç–∏–Ω–∞',     cat:'transition', num:78 },
        Au:   { id:'Au',   symbol:'Au',     name:'–ó–æ–ª–æ—Ç–æ',      cat:'transition', num:79 },
        Hg:   { id:'Hg',   symbol:'Hg',     name:'–†—Ç—É—Ç—å',       cat:'transition', num:80 },
        Pb:   { id:'Pb',   symbol:'Pb',     name:'–°–≤–∏–Ω–µ—Ü',      cat:'transition', num:82 },

        // === –ö–ò–°–õ–û–¢–´ ===
        HCl:      { id:'HCl',      symbol:'HCl',       name:'–°–æ–ª—è–Ω–∞—è –∫–∏—Å–ª–æ—Ç–∞',      cat:'acid' },
        H2SO4:    { id:'H2SO4',    symbol:'H‚ÇÇSO‚ÇÑ',     name:'–°–µ—Ä–Ω–∞—è –∫–∏—Å–ª–æ—Ç–∞',        cat:'acid' },
        HNO3:     { id:'HNO3',     symbol:'HNO‚ÇÉ',      name:'–ê–∑–æ—Ç–Ω–∞—è –∫–∏—Å–ª–æ—Ç–∞',       cat:'acid' },
        H3PO4:    { id:'H3PO4',    symbol:'H‚ÇÉPO‚ÇÑ',     name:'–§–æ—Å—Ñ–æ—Ä–Ω–∞—è –∫–∏—Å–ª–æ—Ç–∞',     cat:'acid' },
        CH3COOH:  { id:'CH3COOH',  symbol:'CH‚ÇÉCOOH',   name:'–£–∫—Å—É—Å–Ω–∞—è –∫–∏—Å–ª–æ—Ç–∞',      cat:'acid' },
        HF:       { id:'HF',       symbol:'HF',        name:'–ü–ª–∞–≤–∏–∫–æ–≤–∞—è –∫–∏—Å–ª–æ—Ç–∞',    cat:'acid' },
        H2CO3:    { id:'H2CO3',    symbol:'H‚ÇÇCO‚ÇÉ',     name:'–£–≥–æ–ª—å–Ω–∞—è –∫–∏—Å–ª–æ—Ç–∞',      cat:'acid' },
        HBr:      { id:'HBr',      symbol:'HBr',       name:'–ë—Ä–æ–º–æ–≤–æ–¥–æ—Ä–æ–¥–Ω–∞—è –∫-—Ç–∞',  cat:'acid' },
        HCN:      { id:'HCN',      symbol:'HCN',       name:'–°–∏–Ω–∏–ª—å–Ω–∞—è –∫–∏—Å–ª–æ—Ç–∞',     cat:'acid' },
        H2S:      { id:'H2S',      symbol:'H‚ÇÇS',       name:'–°–µ—Ä–æ–≤–æ–¥–æ—Ä–æ–¥',           cat:'acid' },

        // === –û–°–ù–û–í–ê–ù–ò–Ø ===
        NaOH:     { id:'NaOH',     symbol:'NaOH',      name:'–ì–∏–¥—Ä–æ–∫—Å–∏–¥ –Ω–∞—Ç—Ä–∏—è',     cat:'base' },
        KOH:      { id:'KOH',      symbol:'KOH',       name:'–ì–∏–¥—Ä–æ–∫—Å–∏–¥ –∫–∞–ª–∏—è',      cat:'base' },
        Ca_OH_2:  { id:'Ca_OH_2',  symbol:'Ca(OH)‚ÇÇ',   name:'–ì–∏–¥—Ä–æ–∫—Å–∏–¥ –∫–∞–ª—å—Ü–∏—è',    cat:'base' },
        Ba_OH_2:  { id:'Ba_OH_2',  symbol:'Ba(OH)‚ÇÇ',   name:'–ì–∏–¥—Ä–æ–∫—Å–∏–¥ –±–∞—Ä–∏—è',      cat:'base' },
        NH4OH:    { id:'NH4OH',    symbol:'NH‚ÇÑOH',     name:'–ì–∏–¥—Ä–æ–∫—Å–∏–¥ –∞–º–º–æ–Ω–∏—è',    cat:'base' },

        // === –°–û–õ–ò ===
        NaCl:     { id:'NaCl',     symbol:'NaCl',      name:'–•–ª–æ—Ä–∏–¥ –Ω–∞—Ç—Ä–∏—è',        cat:'salt' },
        KCl:      { id:'KCl',      symbol:'KCl',       name:'–•–ª–æ—Ä–∏–¥ –∫–∞–ª–∏—è',         cat:'salt' },
        CaCO3:    { id:'CaCO3',    symbol:'CaCO‚ÇÉ',     name:'–ö–∞—Ä–±–æ–Ω–∞—Ç –∫–∞–ª—å—Ü–∏—è',     cat:'salt' },
        Na2CO3:   { id:'Na2CO3',   symbol:'Na‚ÇÇCO‚ÇÉ',    name:'–ö–∞—Ä–±–æ–Ω–∞—Ç –Ω–∞—Ç—Ä–∏—è',      cat:'salt' },
        NaHCO3:   { id:'NaHCO3',   symbol:'NaHCO‚ÇÉ',    name:'–°–æ–¥–∞ –ø–∏—â–µ–≤–∞—è',         cat:'salt' },
        CuSO4:    { id:'CuSO4',    symbol:'CuSO‚ÇÑ',     name:'–°—É–ª—å—Ñ–∞—Ç –º–µ–¥–∏',         cat:'salt' },
        FeCl3:    { id:'FeCl3',    symbol:'FeCl‚ÇÉ',     name:'–•–ª–æ—Ä–∏–¥ –∂–µ–ª–µ–∑–∞(III)',    cat:'salt' },
        AgNO3:    { id:'AgNO3',    symbol:'AgNO‚ÇÉ',     name:'–ù–∏—Ç—Ä–∞—Ç —Å–µ—Ä–µ–±—Ä–∞',       cat:'salt' },
        KMnO4:    { id:'KMnO4',    symbol:'KMnO‚ÇÑ',     name:'–ü–µ—Ä–º–∞–Ω–≥–∞–Ω–∞—Ç –∫–∞–ª–∏—è',    cat:'salt' },
        BaCl2:    { id:'BaCl2',    symbol:'BaCl‚ÇÇ',     name:'–•–ª–æ—Ä–∏–¥ –±–∞—Ä–∏—è',         cat:'salt' },
        PbNO3_2:  { id:'PbNO3_2',  symbol:'Pb(NO‚ÇÉ)‚ÇÇ',  name:'–ù–∏—Ç—Ä–∞—Ç —Å–≤–∏–Ω—Ü–∞',       cat:'salt' },
        KI:       { id:'KI',       symbol:'KI',        name:'–ô–æ–¥–∏–¥ –∫–∞–ª–∏—è',          cat:'salt' },
        FeSO4:    { id:'FeSO4',    symbol:'FeSO‚ÇÑ',     name:'–°—É–ª—å—Ñ–∞—Ç –∂–µ–ª–µ–∑–∞(II)',   cat:'salt' },
        ZnSO4:    { id:'ZnSO4',    symbol:'ZnSO‚ÇÑ',     name:'–°—É–ª—å—Ñ–∞—Ç —Ü–∏–Ω–∫–∞',       cat:'salt' },
        CaCl2:    { id:'CaCl2',    symbol:'CaCl‚ÇÇ',     name:'–•–ª–æ—Ä–∏–¥ –∫–∞–ª—å—Ü–∏—è',       cat:'salt' },
        Na2S:     { id:'Na2S',     symbol:'Na‚ÇÇS',      name:'–°—É–ª—å—Ñ–∏–¥ –Ω–∞—Ç—Ä–∏—è',       cat:'salt' },
        K2Cr2O7:  { id:'K2Cr2O7',  symbol:'K‚ÇÇCr‚ÇÇO‚Çá',   name:'–î–∏—Ö—Ä–æ–º–∞—Ç –∫–∞–ª–∏—è',      cat:'salt' },
        NH4Cl:    { id:'NH4Cl',    symbol:'NH‚ÇÑCl',     name:'–•–ª–æ—Ä–∏–¥ –∞–º–º–æ–Ω–∏—è',       cat:'salt' },

        // === –û–ö–°–ò–î–´ ===
        H2O:      { id:'H2O',      symbol:'H‚ÇÇO',       name:'–í–æ–¥–∞',                 cat:'oxide' },
        CO2:      { id:'CO2',      symbol:'CO‚ÇÇ',       name:'–£–≥–ª–µ–∫–∏—Å–ª—ã–π –≥–∞–∑',       cat:'oxide' },
        SO2:      { id:'SO2',      symbol:'SO‚ÇÇ',       name:'–°–µ—Ä–Ω–∏—Å—Ç—ã–π –≥–∞–∑',        cat:'oxide' },
        NO2:      { id:'NO2',      symbol:'NO‚ÇÇ',       name:'–î–∏–æ–∫—Å–∏–¥ –∞–∑–æ—Ç–∞',        cat:'oxide' },
        CaO:      { id:'CaO',      symbol:'CaO',       name:'–ù–µ–≥–∞—à—ë–Ω–∞—è –∏–∑–≤–µ—Å—Ç—å',    cat:'oxide' },
        Na2O:     { id:'Na2O',     symbol:'Na‚ÇÇO',      name:'–û–∫—Å–∏–¥ –Ω–∞—Ç—Ä–∏—è',         cat:'oxide' },
        Fe2O3:    { id:'Fe2O3',    symbol:'Fe‚ÇÇO‚ÇÉ',     name:'–û–∫—Å–∏–¥ –∂–µ–ª–µ–∑–∞(III)',    cat:'oxide' },
        Al2O3:    { id:'Al2O3',    symbol:'Al‚ÇÇO‚ÇÉ',     name:'–û–∫—Å–∏–¥ –∞–ª—é–º–∏–Ω–∏—è',       cat:'oxide' },
        MnO2:     { id:'MnO2',     symbol:'MnO‚ÇÇ',      name:'–î–∏–æ–∫—Å–∏–¥ –º–∞—Ä–≥–∞–Ω—Ü–∞',     cat:'oxide' },

        // === –û–†–ì–ê–ù–ò–ö–ê ===
        NH3:      { id:'NH3',      symbol:'NH‚ÇÉ',       name:'–ê–º–º–∏–∞–∫',               cat:'compound' },
        H2O2:     { id:'H2O2',     symbol:'H‚ÇÇO‚ÇÇ',      name:'–ü–µ—Ä–µ–∫–∏—Å—å –≤–æ–¥–æ—Ä–æ–¥–∞',    cat:'compound' },
        C2H5OH:   { id:'C2H5OH',   symbol:'C‚ÇÇH‚ÇÖOH',    name:'–≠—Ç–∞–Ω–æ–ª',              cat:'organic' },
        CH3OH:    { id:'CH3OH',    symbol:'CH‚ÇÉOH',     name:'–ú–µ—Ç–∞–Ω–æ–ª',              cat:'organic' },
        C6H12O6:  { id:'C6H12O6',  symbol:'C‚ÇÜH‚ÇÅ‚ÇÇO‚ÇÜ',   name:'–ì–ª—é–∫–æ–∑–∞',            cat:'organic' },
        C3H8:     { id:'C3H8',     symbol:'C‚ÇÉH‚Çà',      name:'–ü—Ä–æ–ø–∞–Ω',              cat:'organic' },
        C6H6:     { id:'C6H6',     symbol:'C‚ÇÜH‚ÇÜ',      name:'–ë–µ–Ω–∑–æ–ª',              cat:'organic' },
        CH4:      { id:'CH4',      symbol:'CH‚ÇÑ',       name:'–ú–µ—Ç–∞–Ω',                cat:'organic' },
        C2H2:     { id:'C2H2',     symbol:'C‚ÇÇH‚ÇÇ',      name:'–ê—Ü–µ—Ç–∏–ª–µ–Ω',            cat:'organic' },

        // === –ò–ù–î–ò–ö–ê–¢–û–†–´ ===
        phenol:   { id:'phenol',   symbol:'–§–µ–Ω–æ–ª—Ñ—Ç.',  name:'–§–µ–Ω–æ–ª—Ñ—Ç–∞–ª–µ–∏–Ω',         cat:'indicator' },
        litmus:   { id:'litmus',   symbol:'–õ–∞–∫–º—É—Å',    name:'–õ–∞–∫–º—É—Å',               cat:'indicator' },
        methyl_o: { id:'methyl_o', symbol:'–ú–µ—Ç.–æ—Ä–∞–Ω–∂', name:'–ú–µ—Ç–∏–ª–æ—Ä–∞–Ω–∂',           cat:'indicator' },
    };

    // ========================================
    // REACTIONS DATABASE ‚Äî 60+ reactions
    // ========================================
    const REACTIONS = [
        // ===== –ù–ï–ô–¢–†–ê–õ–ò–ó–ê–¶–ò–Ø =====
        { r:['NaOH','HCl'], eq:'NaOH + HCl ‚Üí NaCl + H‚ÇÇO', name:'–ù–µ–π—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è (NaOH+HCl)', type:'exo', energy:'-57 –∫–î–∂/–º–æ–ª—å', color:'rgba(200,200,255,0.5)', desc:'–©—ë–ª–æ—á—å + –∫–∏—Å–ª–æ—Ç–∞ ‚Üí —Å–æ–ª—å + –≤–æ–¥–∞. –≠–∫–∑–æ—Ç–µ—Ä–º–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–∫—Ü–∏—è –Ω–µ–π—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏–∏.', med:'–ü—Ä–∏–Ω—Ü–∏–ø –∞–Ω—Ç–∞—Ü–∏–¥–æ–≤ (–ú–∞–∞–ª–æ–∫—Å, –†–µ–Ω–Ω–∏) –¥–ª—è –ª–µ—á–µ–Ω–∏—è –∏–∑–∂–æ–≥–∏.', cond:'t¬∞ –∫–æ–º–Ω–∞—Ç–Ω–∞—è', products:['NaCl','H‚ÇÇO'], danger:0 },
        { r:['KOH','HCl'], eq:'KOH + HCl ‚Üí KCl + H‚ÇÇO', name:'–ù–µ–π—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è (KOH+HCl)', type:'exo', energy:'-57 –∫–î–∂/–º–æ–ª—å', color:'rgba(200,220,255,0.5)', desc:'–ì–∏–¥—Ä–æ–∫—Å–∏–¥ –∫–∞–ª–∏—è + —Å–æ–ª—è–Ω–∞—è –∫–∏—Å–ª–æ—Ç–∞ ‚Üí —Ö–ª–æ—Ä–∏–¥ –∫–∞–ª–∏—è + –≤–æ–¥–∞.', med:'KCl ‚Äî –ø—Ä–µ–ø–∞—Ä–∞—Ç –ø—Ä–∏ –≥–∏–ø–æ–∫–∞–ª–∏–µ–º–∏–∏.', cond:'t¬∞ –∫–æ–º–Ω–∞—Ç–Ω–∞—è', products:['KCl','H‚ÇÇO'], danger:0 },
        { r:['NaOH','H2SO4'], eq:'2NaOH + H‚ÇÇSO‚ÇÑ ‚Üí Na‚ÇÇSO‚ÇÑ + 2H‚ÇÇO', name:'NaOH + —Å–µ—Ä–Ω–∞—è –∫–∏—Å–ª–æ—Ç–∞', type:'exo', energy:'-114 –∫–î–∂/–º–æ–ª—å', color:'rgba(220,220,240,0.5)', desc:'–°–∏–ª—å–Ω–æ —ç–∫–∑–æ—Ç–µ—Ä–º–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–∫—Ü–∏—è! –©—ë–ª–æ—á—å –Ω–µ–π—Ç—Ä–∞–ª–∏–∑—É–µ—Ç —Å–µ—Ä–Ω—É—é –∫–∏—Å–ª–æ—Ç—É.', med:'Na‚ÇÇSO‚ÇÑ (–≥–ª–∞—É–±–µ—Ä–æ–≤–∞ —Å–æ–ª—å) ‚Äî —Å–ª–∞–±–∏—Ç–µ–ª—å–Ω–æ–µ.', cond:'t¬∞ –∫–æ–º–Ω–∞—Ç–Ω–∞—è, –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ!', products:['Na‚ÇÇSO‚ÇÑ','H‚ÇÇO'], danger:1 },
        { r:['NaOH','HNO3'], eq:'NaOH + HNO‚ÇÉ ‚Üí NaNO‚ÇÉ + H‚ÇÇO', name:'NaOH + –∞–∑–æ—Ç–Ω–∞—è –∫–∏—Å–ª–æ—Ç–∞', type:'exo', energy:'-55 –∫–î–∂/–º–æ–ª—å', color:'rgba(210,210,230,0.5)', desc:'–ù–µ–π—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è –∞–∑–æ—Ç–Ω–æ–π –∫–∏—Å–ª–æ—Ç—ã —â—ë–ª–æ—á—å—é ‚Üí –Ω–∏—Ç—Ä–∞—Ç –Ω–∞—Ç—Ä–∏—è.', med:'NaNO‚ÇÉ ‚Äî —Ä–∞–Ω–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –∫–∞–∫ –∫–æ–Ω—Å–µ—Ä–≤–∞–Ω—Ç (E251).', cond:'t¬∞ –∫–æ–º–Ω–∞—Ç–Ω–∞—è', products:['NaNO‚ÇÉ','H‚ÇÇO'], danger:0 },
        { r:['Ca_OH_2','CO2'], eq:'Ca(OH)‚ÇÇ + CO‚ÇÇ ‚Üí CaCO‚ÇÉ‚Üì + H‚ÇÇO', name:'–ü–æ–º—É—Ç–Ω–µ–Ω–∏–µ –∏–∑–≤–µ—Å—Ç–∫–æ–≤–æ–π –≤–æ–¥—ã', type:'exo', energy:'-113 –∫–î–∂/–º–æ–ª—å', color:'rgba(255,255,255,0.7)', desc:'–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è –Ω–∞ CO‚ÇÇ. –†–∞—Å—Ç–≤–æ—Ä –º—É—Ç–Ω–µ–µ—Ç!', med:'–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ CO‚ÇÇ –≤ –≤—ã–¥—ã—Ö–∞–µ–º–æ–º –≤–æ–∑–¥—É—Ö–µ. Ca –≤–∞–∂–µ–Ω –¥–ª—è –∫–æ—Å—Ç–µ–π –∏ –∑—É–±–æ–≤.', cond:'t¬∞ –∫–æ–º–Ω–∞—Ç–Ω–∞—è', products:['CaCO‚ÇÉ','H‚ÇÇO'], danger:0 },
        { r:['CH3COOH','NaOH'], eq:'CH‚ÇÉCOOH + NaOH ‚Üí CH‚ÇÉCOONa + H‚ÇÇO', name:'–£–∫—Å—É—Å–Ω–∞—è –∫-—Ç–∞ + NaOH', type:'exo', energy:'-56 –∫–î–∂/–º–æ–ª—å', color:'rgba(230,230,240,0.5)', desc:'–°–ª–∞–±–∞—è –∫–∏—Å–ª–æ—Ç–∞ + —Å–∏–ª—å–Ω–∞—è —â—ë–ª–æ—á—å ‚Üí –∞—Ü–µ—Ç–∞—Ç –Ω–∞—Ç—Ä–∏—è. –†–∞—Å—Ç–≤–æ—Ä —Å–ª–∞–±–æ—â–µ–ª–æ—á–Ω–æ–π.', med:'–ê—Ü–µ—Ç–∞—Ç–Ω—ã–µ –±—É—Ñ–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –≥–µ–º–æ–¥–∏–∞–ª–∏–∑–µ.', cond:'t¬∞ –∫–æ–º–Ω–∞—Ç–Ω–∞—è', products:['CH‚ÇÉCOONa','H‚ÇÇO'], danger:0 },
        { r:['Ba_OH_2','H2SO4'], eq:'Ba(OH)‚ÇÇ + H‚ÇÇSO‚ÇÑ ‚Üí BaSO‚ÇÑ‚Üì + 2H‚ÇÇO', name:'Ba(OH)‚ÇÇ + H‚ÇÇSO‚ÇÑ', type:'exo', energy:'-120 –∫–î–∂/–º–æ–ª—å', color:'rgba(255,255,250,0.8)', desc:'–î–≤–æ–π–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è: –Ω–µ–π—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è + –æ—Å–∞–∂–¥–µ–Ω–∏–µ. –ë–µ–ª—ã–π –æ—Å–∞–¥–æ–∫ BaSO‚ÇÑ.', med:'BaSO‚ÇÑ ‚Äî —Ä–µ–Ω—Ç–≥–µ–Ω–æ–∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–æ–µ –≤–µ—â–µ—Å—Ç–≤–æ –¥–ª—è –ñ–ö–¢.', cond:'t¬∞ –∫–æ–º–Ω–∞—Ç–Ω–∞—è', products:['BaSO‚ÇÑ','H‚ÇÇO'], danger:0 },

        // ===== –ú–ï–¢–ê–õ–õ–´ + –í–û–î–ê (–û–ü–ê–°–ù–´–ï!) =====
        { r:['Na','H2O'], eq:'2Na + 2H‚ÇÇO ‚Üí 2NaOH + H‚ÇÇ‚Üë', name:'–ù–∞—Ç—Ä–∏–π –≤ –≤–æ–¥–µ üí•', type:'exo', energy:'-184 –∫–î–∂/–º–æ–ª—å', color:'rgba(255,200,100,0.6)', desc:'–û–ü–ê–°–ù–û! –ù–∞—Ç—Ä–∏–π –±—É—Ä–Ω–æ —Ä–µ–∞–≥–∏—Ä—É–µ—Ç —Å –≤–æ–¥–æ–π ‚Äî –ø–ª–∞–≤–∏—Ç—Å—è, –±–µ–≥–∞–µ—Ç –ø–æ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏, –≤—ã–¥–µ–ª—è–µ—Ç –≤–æ–¥–æ—Ä–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –≤–æ—Å–ø–ª–∞–º–µ–Ω–∏—Ç—å—Å—è!', med:'Na ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –≤–Ω–µ–∫–ª–µ—Ç–æ—á–Ω—ã–π –∫–∞—Ç–∏–æ–Ω. –§–∏–∑—Ä–∞—Å—Ç–≤–æ—Ä (0.9% NaCl) ‚Äî –æ—Å–Ω–æ–≤–∞ –∫–∞–ø–µ–ª—å–Ω–∏—Ü.', cond:'t¬∞ –∫–æ–º–Ω–∞—Ç–Ω–∞—è, –í–ó–†–´–í–û–û–ü–ê–°–ù–û!', products:['NaOH','H‚ÇÇ'], danger:3 },
        { r:['K','H2O'], eq:'2K + 2H‚ÇÇO ‚Üí 2KOH + H‚ÇÇ‚Üë', name:'–ö–∞–ª–∏–π –≤ –≤–æ–¥–µ üî•üí•', type:'exo', energy:'-196 –∫–î–∂/–º–æ–ª—å', color:'rgba(255,150,50,0.7)', desc:'–ö–†–ê–ô–ù–ï –û–ü–ê–°–ù–û! –ö–∞–ª–∏–π –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –≤–æ—Å–ø–ª–∞–º–µ–Ω—è–µ—Ç—Å—è —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–º –ø–ª–∞–º–µ–Ω–µ–º! –ú–æ—â–Ω—ã–π –≤–∑—Ä—ã–≤ –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ!', med:'K ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –≤–Ω—É—Ç—Ä–∏–∫–ª–µ—Ç–æ—á–Ω—ã–π –∫–∞—Ç–∏–æ–Ω. –ö—Ä–∏—Ç–∏—á–µ–Ω –¥–ª—è —Å–µ—Ä–¥–µ—á–Ω–æ–≥–æ —Ä–∏—Ç–º–∞.', cond:'t¬∞ –∫–æ–º–Ω–∞—Ç–Ω–∞—è, –í–ó–†–´–í!', products:['KOH','H‚ÇÇ'], danger:4 },
        { r:['Li','H2O'], eq:'2Li + 2H‚ÇÇO ‚Üí 2LiOH + H‚ÇÇ‚Üë', name:'–õ–∏—Ç–∏–π –≤ –≤–æ–¥–µ', type:'exo', energy:'-222 –∫–î–∂/–º–æ–ª—å', color:'rgba(200,220,255,0.4)', desc:'–õ–∏—Ç–∏–π —Ä–µ–∞–≥–∏—Ä—É–µ—Ç —Å–ø–æ–∫–æ–π–Ω–µ–µ –Ω–∞—Ç—Ä–∏—è ‚Äî –º–µ–¥–ª–µ–Ω–Ω–æ –ø—É–∑—ã—Ä–∏—Ç—Å—è.', med:'Li‚ÇÇCO‚ÇÉ ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–µ–ø–∞—Ä–∞—Ç –¥–ª—è –ª–µ—á–µ–Ω–∏—è –±–∏–ø–æ–ª—è—Ä–Ω–æ–≥–æ —Ä–∞—Å—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.', cond:'t¬∞ –∫–æ–º–Ω–∞—Ç–Ω–∞—è', products:['LiOH','H‚ÇÇ'], danger:1 },
        { r:['Ca','H2O'], eq:'Ca + 2H‚ÇÇO ‚Üí Ca(OH)‚ÇÇ + H‚ÇÇ‚Üë', name:'–ö–∞–ª—å—Ü–∏–π –≤ –≤–æ–¥–µ', type:'exo', energy:'-414 –∫–î–∂/–º–æ–ª—å', color:'rgba(220,240,255,0.5)', desc:'–ö–∞–ª—å—Ü–∏–π —Ä–µ–∞–≥–∏—Ä—É–µ—Ç —Å –≤–æ–¥–æ–π —É–º–µ—Ä–µ–Ω–Ω–æ ‚Äî –≤—ã–¥–µ–ª—è–µ—Ç—Å—è –≤–æ–¥–æ—Ä–æ–¥, —Ä–∞—Å—Ç–≤–æ—Ä –º—É—Ç–Ω–µ–µ—Ç.', med:'Ca(OH)‚ÇÇ –≤ —Å—Ç–æ–º–∞—Ç–æ–ª–æ–≥–∏–∏ –¥–ª—è –ª–µ—á–µ–±–Ω—ã—Ö –ø—Ä–æ–∫–ª–∞–¥–æ–∫.', cond:'t¬∞ –∫–æ–º–Ω–∞—Ç–Ω–∞—è', products:['Ca(OH)‚ÇÇ','H‚ÇÇ'], danger:1 },

        // ===== –ú–ï–¢–ê–õ–õ–´ + –ö–ò–°–õ–û–¢–´ =====
        { r:['Fe','HCl'], eq:'Fe + 2HCl ‚Üí FeCl‚ÇÇ + H‚ÇÇ‚Üë', name:'–ñ–µ–ª–µ–∑–æ + —Å–æ–ª—è–Ω–∞—è –∫-—Ç–∞', type:'exo', energy:'-89 –∫–î–∂/–º–æ–ª—å', color:'rgba(150,220,150,0.5)', desc:'–ñ–µ–ª–µ–∑–æ —Ä–∞—Å—Ç–≤–æ—Ä—è–µ—Ç—Å—è —Å –≤—ã–¥–µ–ª–µ–Ω–∏–µ–º –ø—É–∑—ã—Ä—å–∫–æ–≤ H‚ÇÇ. –†–∞—Å—Ç–≤–æ—Ä –∑–µ–ª–µ–Ω–µ–µ—Ç (Fe¬≤‚Å∫).', med:'–•–ª–æ—Ä–∏–¥ –∂–µ–ª–µ–∑–∞(II) ‚Äî –ø—Ä–µ–¥—à–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫ –ø—Ä–µ–ø–∞—Ä–∞—Ç–æ–≤ Fe. –î–µ—Ñ–∏—Ü–∏—Ç ‚Üí –∞–Ω–µ–º–∏—è.', cond:'t¬∞ –∫–æ–º–Ω–∞—Ç–Ω–∞—è', products:['FeCl‚ÇÇ','H‚ÇÇ'], danger:0 },
        { r:['Zn','HCl'], eq:'Zn + 2HCl ‚Üí ZnCl‚ÇÇ + H‚ÇÇ‚Üë', name:'–¶–∏–Ω–∫ + —Å–æ–ª—è–Ω–∞—è –∫-—Ç–∞', type:'exo', energy:'-153 –∫–î–∂/–º–æ–ª—å', color:'rgba(200,220,200,0.5)', desc:'–¶–∏–Ω–∫ –∞–∫—Ç–∏–≤–Ω–æ —Ä–∞—Å—Ç–≤–æ—Ä—è–µ—Ç—Å—è ‚Äî –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —Å–ø–æ—Å–æ–± –ø–æ–ª—É—á–µ–Ω–∏—è H‚ÇÇ.', med:'Zn –≤—Ö–æ–¥–∏—Ç –≤ 300+ —Ñ–µ—Ä–º–µ–Ω—Ç–æ–≤. –í–∞–∂–µ–Ω –¥–ª—è –∏–º–º—É–Ω–∏—Ç–µ—Ç–∞ –∏ –∑–∞–∂–∏–≤–ª–µ–Ω–∏—è —Ä–∞–Ω.', cond:'t¬∞ –∫–æ–º–Ω–∞—Ç–Ω–∞—è', products:['ZnCl‚ÇÇ','H‚ÇÇ'], danger:0 },
        { r:['Zn','H2SO4'], eq:'Zn + H‚ÇÇSO‚ÇÑ(—Ä–∞–∑–±.) ‚Üí ZnSO‚ÇÑ + H‚ÇÇ‚Üë', name:'–¶–∏–Ω–∫ + —Å–µ—Ä–Ω–∞—è –∫-—Ç–∞', type:'exo', energy:'-156 –∫–î–∂/–º–æ–ª—å', color:'rgba(200,215,200,0.5)', desc:'–¶–∏–Ω–∫ —Ä–∞—Å—Ç–≤–æ—Ä—è–µ—Ç—Å—è –≤ —Ä–∞–∑–±–∞–≤–ª–µ–Ω–Ω–æ–π —Å–µ—Ä–Ω–æ–π –∫–∏—Å–ª–æ—Ç–µ.', med:'ZnSO‚ÇÑ –≤ –≥–ª–∞–∑–Ω—ã—Ö –∫–∞–ø–ª—è—Ö ‚Äî –≤—è–∂—É—â–µ–µ –∏ –∞–Ω—Ç–∏—Å–µ–ø—Ç–∏–∫.', cond:'–†–∞–∑–±–∞–≤–ª–µ–Ω–Ω–∞—è H‚ÇÇSO‚ÇÑ', products:['ZnSO‚ÇÑ','H‚ÇÇ'], danger:0 },
        { r:['Mg','HCl'], eq:'Mg + 2HCl ‚Üí MgCl‚ÇÇ + H‚ÇÇ‚Üë', name:'–ú–∞–≥–Ω–∏–π + —Å–æ–ª—è–Ω–∞—è –∫-—Ç–∞', type:'exo', energy:'-462 –∫–î–∂/–º–æ–ª—å', color:'rgba(200,230,200,0.5)', desc:'–ú–∞–≥–Ω–∏–π –±—É—Ä–Ω–æ —Ä–µ–∞–≥–∏—Ä—É–µ—Ç ‚Äî –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ H‚ÇÇ!', med:'Mg —É—á–∞—Å—Ç–≤—É–µ—Ç –≤ 600+ —Ñ–µ—Ä–º–µ–Ω—Ç–∞—Ç–∏–≤–Ω—ã—Ö —Ä–µ–∞–∫—Ü–∏—è—Ö. –ú–∞–≥–Ω–µ–∑–∏—è ‚Äî —Å–ø–∞–∑–º–æ–ª–∏—Ç–∏–∫.', cond:'t¬∞ –∫–æ–º–Ω–∞—Ç–Ω–∞—è', products:['MgCl‚ÇÇ','H‚ÇÇ'], danger:1 },
        { r:['Al','HCl'], eq:'2Al + 6HCl ‚Üí 2AlCl‚ÇÉ + 3H‚ÇÇ‚Üë', name:'–ê–ª—é–º–∏–Ω–∏–π + HCl', type:'exo', energy:'-1049 –∫–î–∂/–º–æ–ª—å', color:'rgba(210,230,240,0.5)', desc:'–°–Ω–∞—á–∞–ª–∞ –º–µ–¥–ª–µ–Ω–Ω–æ (–æ–∫—Å–∏–¥–Ω–∞—è –ø–ª—ë–Ω–∫–∞), –∑–∞—Ç–µ–º –±—É—Ä–Ω–æ!', med:'Al(OH)‚ÇÉ ‚Äî –æ—Å–Ω–æ–≤–∞ –∞–Ω—Ç–∞—Ü–∏–¥–æ–≤ (–ê–ª–º–∞–≥–µ–ª—å, –§–æ—Å—Ñ–∞–ª—é–≥–µ–ª—å).', cond:'t¬∞ –∫–æ–º–Ω–∞—Ç–Ω–∞—è', products:['AlCl‚ÇÉ','H‚ÇÇ'], danger:1 },
        { r:['Cu','HNO3'], eq:'3Cu + 8HNO‚ÇÉ(—Ä–∞–∑–±.) ‚Üí 3Cu(NO‚ÇÉ)‚ÇÇ + 2NO‚Üë + 4H‚ÇÇO', name:'–ú–µ–¥—å + –∞–∑–æ—Ç–Ω–∞—è –∫-—Ç–∞ üß°', type:'exo', energy:'-156 –∫–î–∂/–º–æ–ª—å', color:'rgba(80,180,255,0.6)', desc:'–ú–µ–¥—å —Ä–∞—Å—Ç–≤–æ—Ä—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ HNO‚ÇÉ! –í—ã–¥–µ–ª—è–µ—Ç—Å—è –±—É—Ä—ã–π –≥–∞–∑ NO‚ÇÇ (—è–¥–æ–≤–∏—Ç!). –†–∞—Å—Ç–≤–æ—Ä —Å–∏–Ω–µ–µ—Ç.', med:'Cu(NO‚ÇÉ)‚ÇÇ ‚Äî —Å–∏–Ω–∏–π —Ä–∞—Å—Ç–≤–æ—Ä. –ú–µ–¥—å –≤–∞–∂–Ω–∞ –¥–ª—è —Ñ–µ—Ä–º–µ–Ω—Ç–æ–≤ (—Ü–µ—Ä—É–ª–æ–ø–ª–∞–∑–º–∏–Ω).', cond:'t¬∞ –∫–æ–º–Ω–∞—Ç–Ω–∞—è, –Ø–î–û–í–ò–¢–´–ô –ì–ê–ó!', products:['Cu(NO‚ÇÉ)‚ÇÇ','NO','H‚ÇÇO'], danger:3 },
        { r:['Au','HNO3'], eq:'Au + HNO‚ÇÉ ‚Üí –†–µ–∞–∫—Ü–∏—è –Ω–µ –∏–¥—ë—Ç!', name:'–ó–æ–ª–æ—Ç–æ + HNO‚ÇÉ ‚ùå', type:'neutral', energy:'0', color:'rgba(255,215,0,0.3)', desc:'–ó–æ–ª–æ—Ç–æ –ù–ï —Ä–∞—Å—Ç–≤–æ—Ä—è–µ—Ç—Å—è –≤ –∞–∑–æ—Ç–Ω–æ–π –∫–∏—Å–ª–æ—Ç–µ! –ù—É–∂–Ω–∞ "—Ü–∞—Ä—Å–∫–∞—è –≤–æ–¥–∫–∞" (HCl + HNO‚ÇÉ).', med:'–°–æ–µ–¥–∏–Ω–µ–Ω–∏—è Au –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –ª–µ—á–µ–Ω–∏–∏ —Ä–µ–≤–º–∞—Ç–æ–∏–¥–Ω–æ–≥–æ –∞—Ä—Ç—Ä–∏—Ç–∞ (–∞—É—Ä–æ—Ç–µ—Ä–∞–ø–∏—è).', cond:'–ù–µ —Ä–µ–∞–≥–∏—Ä—É–µ—Ç', products:['Au'], danger:0 },

        // ===== –ö–ê–†–ë–û–ù–ê–¢–´ + –ö–ò–°–õ–û–¢–´ =====
        { r:['CaCO3','HCl'], eq:'CaCO‚ÇÉ + 2HCl ‚Üí CaCl‚ÇÇ + H‚ÇÇO + CO‚ÇÇ‚Üë', name:'–ú—Ä–∞–º–æ—Ä + –∫–∏—Å–ª–æ—Ç–∞ ü´ß', type:'exo', energy:'-24 –∫–î–∂/–º–æ–ª—å', color:'rgba(220,240,255,0.4)', desc:'–ö–∞—Ä–±–æ–Ω–∞—Ç –∫–∞–ª—å—Ü–∏—è ¬´–≤—Å–∫–∏–ø–∞–µ—Ç¬ª ‚Äî CO‚ÇÇ –ø—É–∑—ã—Ä—å–∫–∏! –¢–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç —à–∏–ø—É—á–∏–µ —Ç–∞–±–ª–µ—Ç–∫–∏!', med:'CaCO‚ÇÉ ‚Äî –¥–µ–π—Å—Ç–≤—É—é—â–µ–µ –≤–µ—â–µ—Å—Ç–≤–æ –∞–Ω—Ç–∞—Ü–∏–¥–æ–≤ (–†–µ–Ω–Ω–∏).', cond:'–õ—é–±–∞—è t¬∞', products:['CaCl‚ÇÇ','H‚ÇÇO','CO‚ÇÇ'], danger:0 },
        { r:['Na2CO3','HCl'], eq:'Na‚ÇÇCO‚ÇÉ + 2HCl ‚Üí 2NaCl + H‚ÇÇO + CO‚ÇÇ‚Üë', name:'–°–æ–¥–∞ + –∫–∏—Å–ª–æ—Ç–∞ ü´ß', type:'exo', energy:'-26 –∫–î–∂/–º–æ–ª—å', color:'rgba(255,240,220,0.4)', desc:'¬´–í—É–ª–∫–∞–Ω¬ª –∏–∑ CO‚ÇÇ! –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –¥–æ–º–∞—à–Ω–∏–π —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç.', med:'–°–æ–¥–∞ (NaHCO‚ÇÉ) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏ –∞—Ü–∏–¥–æ–∑–∞.', cond:'t¬∞ –∫–æ–º–Ω–∞—Ç–Ω–∞—è', products:['NaCl','H‚ÇÇO','CO‚ÇÇ'], danger:0 },
        { r:['NaHCO3','HCl'], eq:'NaHCO‚ÇÉ + HCl ‚Üí NaCl + H‚ÇÇO + CO‚ÇÇ‚Üë', name:'–ü–∏—â–µ–≤–∞—è —Å–æ–¥–∞ + HCl ü´ß', type:'exo', energy:'-12 –∫–î–∂/–º–æ–ª—å', color:'rgba(255,245,230,0.4)', desc:'–ë—É—Ä–Ω–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ CO‚ÇÇ! –ö–ª–∞—Å—Å–∏–∫–∞ –¥–æ–º–∞—à–Ω–µ–π —Ö–∏–º–∏–∏.', med:'–ü–∏—â–µ–≤–∞—è —Å–æ–¥–∞ ‚Äî –∞–Ω—Ç–∞—Ü–∏–¥, –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–∂–æ–≥–µ.', cond:'t¬∞ –∫–æ–º–Ω–∞—Ç–Ω–∞—è', products:['NaCl','H‚ÇÇO','CO‚ÇÇ'], danger:0 },
        { r:['NaHCO3','CH3COOH'], eq:'NaHCO‚ÇÉ + CH‚ÇÉCOOH ‚Üí CH‚ÇÉCOONa + H‚ÇÇO + CO‚ÇÇ‚Üë', name:'–°–æ–¥–∞ + —É–∫—Å—É—Å üåã', type:'exo', energy:'-10 –∫–î–∂/–º–æ–ª—å', color:'rgba(255,240,200,0.4)', desc:'–°–∞–º—ã–π –ø–æ–ø—É–ª—è—Ä–Ω—ã–π ¬´–≤—É–ª–∫–∞–Ω¬ª! –°–æ–¥–∞ + —É–∫—Å—É—Å = —Ñ–æ–Ω—Ç–∞–Ω –ø–µ–Ω—ã!', med:'–ë–µ–∑–æ–ø–∞—Å–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –≤ —à–∫–æ–ª–∞—Ö.', cond:'t¬∞ –∫–æ–º–Ω–∞—Ç–Ω–∞—è', products:['CH‚ÇÉCOONa','H‚ÇÇO','CO‚ÇÇ'], danger:0 },
        { r:['CaCO3','CH3COOH'], eq:'CaCO‚ÇÉ + 2CH‚ÇÉCOOH ‚Üí Ca(CH‚ÇÉCOO)‚ÇÇ + H‚ÇÇO + CO‚ÇÇ‚Üë', name:'–Ø–∏—á–Ω–∞—è —Å–∫–æ—Ä–ª—É–ø–∞ + —É–∫—Å—É—Å', type:'exo', energy:'-15 –∫–î–∂/–º–æ–ª—å', color:'rgba(240,235,220,0.4)', desc:'–°–∫–æ—Ä–ª—É–ø–∞ —è–π—Ü–∞ (CaCO‚ÇÉ) —Ä–∞—Å—Ç–≤–æ—Ä—è–µ—Ç—Å—è –≤ —É–∫—Å—É—Å–µ —Å –ø—É–∑—ã—Ä—å–∫–∞–º–∏!', med:'–£–∫—Å—É—Å–Ω–∞—è –∫–∏—Å–ª–æ—Ç–∞ ‚Äî –∞–Ω—Ç–∏—Å–µ–ø—Ç–∏–∫ –≤ –º–∞–ª—ã—Ö –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è—Ö.', cond:'t¬∞ –∫–æ–º–Ω–∞—Ç–Ω–∞—è', products:['Ca(CH‚ÇÉCOO)‚ÇÇ','H‚ÇÇO','CO‚ÇÇ'], danger:0 },

        // ===== –û–°–ê–î–ò–¢–ï–õ–¨–ù–´–ï –†–ï–ê–ö–¶–ò–ò =====
        { r:['AgNO3','NaCl'], eq:'AgNO‚ÇÉ + NaCl ‚Üí AgCl‚Üì + NaNO‚ÇÉ', name:'–ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –Ω–∞ —Ö–ª–æ—Ä–∏–¥—ã', type:'neutral', energy:'-65 –∫–î–∂/–º–æ–ª—å', color:'rgba(255,255,255,0.8)', desc:'–ë–µ–ª—ã–π —Ç–≤–æ—Ä–æ–∂–∏—Å—Ç—ã–π –æ—Å–∞–¥–æ–∫ AgCl! –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è –Ω–∞ Cl‚Åª.', med:'–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ö–ª–æ—Ä–∏–¥–æ–≤ –≤ –º–æ—á–µ, –ø–æ—Ç–µ (–ø—Ä–æ–±–∞ –§–æ–ª—å–≥–∞—Ä–¥–∞).', cond:'t¬∞ –∫–æ–º–Ω–∞—Ç–Ω–∞—è', products:['AgCl‚Üì','NaNO‚ÇÉ'], danger:0 },
        { r:['BaCl2','H2SO4'], eq:'BaCl‚ÇÇ + H‚ÇÇSO‚ÇÑ ‚Üí BaSO‚ÇÑ‚Üì + 2HCl', name:'–ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –Ω–∞ —Å—É–ª—å—Ñ–∞—Ç—ã', type:'neutral', energy:'-50 –∫–î–∂/–º–æ–ª—å', color:'rgba(255,255,250,0.8)', desc:'–ë–µ–ª—ã–π –Ω–µ—Ä–∞—Å—Ç–≤–æ—Ä–∏–º—ã–π –æ—Å–∞–¥–æ–∫ BaSO‚ÇÑ. –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è –Ω–∞ SO‚ÇÑ¬≤‚Åª.', med:'BaSO‚ÇÑ ‚Äî ¬´–±–∞—Ä–∏–µ–≤–∞—è –∫–∞—à–∞¬ª –¥–ª—è —Ä–µ–Ω—Ç–≥–µ–Ω–∞ –ñ–ö–¢.', cond:'t¬∞ –∫–æ–º–Ω–∞—Ç–Ω–∞—è', products:['BaSO‚ÇÑ‚Üì','HCl'], danger:0 },
        { r:['FeCl3','NaOH'], eq:'FeCl‚ÇÉ + 3NaOH ‚Üí Fe(OH)‚ÇÉ‚Üì + 3NaCl', name:'–ë—É—Ä—ã–π –æ—Å–∞–¥–æ–∫ Fe(OH)‚ÇÉ', type:'neutral', energy:'-72 –∫–î–∂/–º–æ–ª—å', color:'rgba(180,100,50,0.7)', desc:'–†—ã–∂–µ–≤–∞—Ç–æ-–±—É—Ä—ã–π –æ—Å–∞–¥–æ–∫! –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è –Ω–∞ Fe¬≥‚Å∫.', med:'Fe(OH)‚ÇÉ ‚Äî –∞–Ω—Ç–∏–¥–æ—Ç –ø—Ä–∏ –æ—Ç—Ä–∞–≤–ª–µ–Ω–∏–∏ –º—ã—à—å—è–∫–æ–º!', cond:'t¬∞ –∫–æ–º–Ω–∞—Ç–Ω–∞—è', products:['Fe(OH)‚ÇÉ‚Üì','NaCl'], danger:0 },
        { r:['CuSO4','NaOH'], eq:'CuSO‚ÇÑ + 2NaOH ‚Üí Cu(OH)‚ÇÇ‚Üì + Na‚ÇÇSO‚ÇÑ', name:'–ì–æ–ª—É–±–æ–π –æ—Å–∞–¥–æ–∫ Cu(OH)‚ÇÇ', type:'neutral', energy:'-63 –∫–î–∂/–º–æ–ª—å', color:'rgba(80,160,255,0.7)', desc:'–ì–æ–ª—É–±–æ–π –≥–µ–ª–µ–æ–±—Ä–∞–∑–Ω—ã–π –æ—Å–∞–¥–æ–∫. –ì–æ–ª—É–±–æ–π = Cu¬≤‚Å∫!', med:'Cu(OH)‚ÇÇ ‚Äî –±–∏—É—Ä–µ—Ç–æ–≤–∞—è —Ä–µ–∞–∫—Ü–∏—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –±–µ–ª–∫–æ–≤!', cond:'t¬∞ –∫–æ–º–Ω–∞—Ç–Ω–∞—è', products:['Cu(OH)‚ÇÇ‚Üì','Na‚ÇÇSO‚ÇÑ'], danger:0 },
        { r:['AgNO3','KI'], eq:'AgNO‚ÇÉ + KI ‚Üí AgI‚Üì + KNO‚ÇÉ', name:'–ñ—ë–ª—Ç—ã–π –æ—Å–∞–¥–æ–∫ AgI', type:'neutral', energy:'-62 –∫–î–∂/–º–æ–ª—å', color:'rgba(255,255,100,0.6)', desc:'–ñ—ë–ª—Ç—ã–π –æ—Å–∞–¥–æ–∫ –∏–æ–¥–∏–¥–∞ —Å–µ—Ä–µ–±—Ä–∞! –ù–µ —Ä–∞—Å—Ç–≤–æ—Ä–∏–º –≤ –∞–º–º–∏–∞–∫–µ (–æ—Ç–ª–∏—á–∏–µ –æ—Ç AgCl).', med:'–ò–æ–¥–∏–¥ —Å–µ—Ä–µ–±—Ä–∞ ‚Äî –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Ä–µ–Ω—Ç–≥–µ–Ω–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö –ø–ª—ë–Ω–æ–∫.', cond:'t¬∞ –∫–æ–º–Ω–∞—Ç–Ω–∞—è', products:['AgI‚Üì','KNO‚ÇÉ'], danger:0 },
        { r:['PbNO3_2','KI'], eq:'Pb(NO‚ÇÉ)‚ÇÇ + 2KI ‚Üí PbI‚ÇÇ‚Üì + 2KNO‚ÇÉ', name:'¬´–ó–æ–ª–æ—Ç–æ–π –¥–æ–∂–¥—å¬ª ‚ú®', type:'neutral', energy:'-98 –∫–î–∂/–º–æ–ª—å', color:'rgba(255,215,0,0.7)', desc:'–ö—Ä–∞—Å–∏–≤–µ–π—à–∞—è —Ä–µ–∞–∫—Ü–∏—è! –ü—Ä–∏ –æ—Ö–ª–∞–∂–¥–µ–Ω–∏–∏ –≤—ã–ø–∞–¥–∞—é—Ç –∑–æ–ª–æ—Ç–∏—Å—Ç—ã–µ –∫—Ä–∏—Å—Ç–∞–ª–ª—ã PbI‚ÇÇ ‚Äî ¬´–∑–æ–ª–æ—Ç–æ–π –¥–æ–∂–¥—å¬ª!', med:'‚ö†Ô∏è –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å–≤–∏–Ω—Ü–∞ –¢–û–ö–°–ò–ß–ù–´! –°–≤–∏–Ω—Ü–æ–≤–æ–µ –æ—Ç—Ä–∞–≤–ª–µ–Ω–∏–µ ‚Äî —Å–µ—Ä—å—ë–∑–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞.', cond:'–ì–æ—Ä—è—á–∏–π —Ä–∞—Å—Ç–≤–æ—Ä ‚Üí –æ—Ö–ª–∞–∂–¥–µ–Ω–∏–µ', products:['PbI‚ÇÇ‚Üì','KNO‚ÇÉ'], danger:2 },
        { r:['Na2S','PbNO3_2'], eq:'Na‚ÇÇS + Pb(NO‚ÇÉ)‚ÇÇ ‚Üí PbS‚Üì + 2NaNO‚ÇÉ', name:'–ß—ë—Ä–Ω—ã–π –æ—Å–∞–¥–æ–∫ PbS', type:'neutral', energy:'-85 –∫–î–∂/–º–æ–ª—å', color:'rgba(30,30,30,0.8)', desc:'–ß—ë—Ä–Ω—ã–π –æ—Å–∞–¥–æ–∫ —Å—É–ª—å—Ñ–∏–¥–∞ —Å–≤–∏–Ω—Ü–∞! –¢–∞–∫ —á–µ—Ä–Ω–µ—é—Ç —Å–µ—Ä–µ–±—Ä—è–Ω—ã–µ —É–∫—Ä–∞—à–µ–Ω–∏—è.', med:'–†–µ–∞–∫—Ü–∏—è –Ω–∞ —Å–≤–∏–Ω–µ—Ü –≤ –±–∏–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –∂–∏–¥–∫–æ—Å—Ç—è—Ö.', cond:'t¬∞ –∫–æ–º–Ω–∞—Ç–Ω–∞—è', products:['PbS‚Üì','NaNO‚ÇÉ'], danger:2 },

        // ===== –í–´–¢–ï–°–ù–ï–ù–ò–ï –ú–ï–¢–ê–õ–õ–û–í =====
        { r:['Cu','AgNO3'], eq:'Cu + 2AgNO‚ÇÉ ‚Üí Cu(NO‚ÇÉ)‚ÇÇ + 2Ag‚Üì', name:'–í—ã—Ç–µ—Å–Ω–µ–Ω–∏–µ —Å–µ—Ä–µ–±—Ä–∞', type:'exo', energy:'-148 –∫–î–∂/–º–æ–ª—å', color:'rgba(100,180,255,0.5)', desc:'–ù–∞ –º–µ–¥–∏ –ø–æ—è–≤–ª—è—é—Ç—Å—è ¬´–∏–≥–æ–ª–∫–∏¬ª —Å–µ—Ä–µ–±—Ä–∞! –†–∞—Å—Ç–≤–æ—Ä –≥–æ–ª—É–±–µ–µ—Ç.', med:'AgNO‚ÇÉ (–ª—è–ø–∏—Å) ‚Äî –∞–Ω—Ç–∏—Å–µ–ø—Ç–∏–∫ –¥–ª—è –ø—Ä–∏–∂–∏–≥–∞–Ω–∏—è —Ä–∞–Ω.', cond:'t¬∞ –∫–æ–º–Ω–∞—Ç–Ω–∞—è', products:['Cu(NO‚ÇÉ)‚ÇÇ','Ag‚Üì'], danger:0 },
        { r:['Fe','CuSO4'], eq:'Fe + CuSO‚ÇÑ ‚Üí FeSO‚ÇÑ + Cu‚Üì', name:'–ñ–µ–ª–µ–∑–æ –≤—ã—Ç–µ—Å–Ω—è–µ—Ç –º–µ–¥—å', type:'exo', energy:'-153 –∫–î–∂/–º–æ–ª—å', color:'rgba(180,120,80,0.5)', desc:'–ù–∞ –∂–µ–ª–µ–∑–Ω–æ–º –≥–≤–æ–∑–¥–µ ‚Äî –∫—Ä–∞—Å–Ω—ã–π –Ω–∞–ª—ë—Ç –º–µ–¥–∏! –†—è–¥ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –º–µ—Ç–∞–ª–ª–æ–≤.', med:'–ë–æ–ª–µ–∑–Ω—å –í–∏–ª—å—Å–æ–Ω–∞-–ö–æ–Ω–æ–≤–∞–ª–æ–≤–∞ ‚Äî –Ω–∞—Ä—É—à–µ–Ω–∏–µ –æ–±–º–µ–Ω–∞ Cu.', cond:'t¬∞ –∫–æ–º–Ω–∞—Ç–Ω–∞—è', products:['FeSO‚ÇÑ','Cu‚Üì'], danger:0 },
        { r:['Zn','CuSO4'], eq:'Zn + CuSO‚ÇÑ ‚Üí ZnSO‚ÇÑ + Cu‚Üì', name:'–¶–∏–Ω–∫ –≤—ã—Ç–µ—Å–Ω—è–µ—Ç –º–µ–¥—å', type:'exo', energy:'-218 –∫–î–∂/–º–æ–ª—å', color:'rgba(160,110,70,0.5)', desc:'–¶–∏–Ω–∫ –∞–∫—Ç–∏–≤–Ω–µ–µ –º–µ–¥–∏ ‚Üí –≤—ã—Ç–µ—Å–Ω—è–µ—Ç –µ—ë –∏–∑ —Ä–∞—Å—Ç–≤–æ—Ä–∞. –ö—Ä–∞—Å–Ω—ã–π –Ω–∞–ª—ë—Ç Cu.', med:'–¶–∏–Ω–∫ –∏ –º–µ–¥—å ‚Äî –æ–±–∞ —ç—Å—Å–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –º–∏–∫—Ä–æ—ç–ª–µ–º–µ–Ω—Ç–∞.', cond:'t¬∞ –∫–æ–º–Ω–∞—Ç–Ω–∞—è', products:['ZnSO‚ÇÑ','Cu‚Üì'], danger:0 },

        // ===== –ì–û–†–ï–ù–ò–ï (–û–ü–ê–°–ù–´–ï!) =====
        { r:['H','O'], eq:'2H‚ÇÇ + O‚ÇÇ ‚Üí 2H‚ÇÇO', name:'–ì–æ—Ä–µ–Ω–∏–µ –≤–æ–¥–æ—Ä–æ–¥–∞ üî•üí•', type:'exo', energy:'-572 –∫–î–∂/–º–æ–ª—å', color:'rgba(150,200,255,0.5)', desc:'–ì–†–ï–ú–£–ß–ò–ô –ì–ê–ó! –°–º–µ—Å—å 2:1 (H‚ÇÇ:O‚ÇÇ) –≤–∑—Ä—ã–≤–∞–µ—Ç—Å—è! –ü—Ä–∏ –ø–æ–¥–∂–∏–≥–µ ‚Äî –Ω–µ–≤–∏–¥–∏–º–æ–µ –ø–ª–∞–º—è.', med:'–í–æ–¥–∞ ‚Äî –æ—Å–Ω–æ–≤–∞ –∂–∏–∑–Ω–∏. 60% –º–∞—Å—Å—ã —á–µ–ª–æ–≤–µ–∫–∞ ‚Äî –≤–æ–¥–∞.', cond:'–ü–æ–¥–∂–∏–≥, t¬∞ > 500¬∞C', products:['H‚ÇÇO'], danger:4 },
        { r:['C','O'], eq:'C + O‚ÇÇ ‚Üí CO‚ÇÇ', name:'–ì–æ—Ä–µ–Ω–∏–µ —É–≥–ª–µ—Ä–æ–¥–∞', type:'exo', energy:'-393 –∫–î–∂/–º–æ–ª—å', color:'rgba(180,180,180,0.4)', desc:'–£–≥–ª–µ—Ä–æ–¥ –≥–æ—Ä–∏—Ç, –æ–±—Ä–∞–∑—É—è CO‚ÇÇ. –ü—Ä–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–µ O‚ÇÇ ‚Üí CO (—É–≥–∞—Ä–Ω—ã–π –≥–∞–∑!).', med:'CO‚ÇÇ ‚Äî –∫–æ–Ω–µ—á–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç –∫–ª–µ—Ç–æ—á–Ω–æ–≥–æ –¥—ã—Ö–∞–Ω–∏—è. –ì–∏–ø–µ—Ä–∫–∞–ø–Ω–∏—è ‚Üí –∞—Ü–∏–¥–æ–∑.', cond:'–ü–æ–¥–∂–∏–≥', products:['CO‚ÇÇ'], danger:1 },
        { r:['S','O'], eq:'S + O‚ÇÇ ‚Üí SO‚ÇÇ', name:'–ì–æ—Ä–µ–Ω–∏–µ —Å–µ—Ä—ã üîµ', type:'exo', energy:'-297 –∫–î–∂/–º–æ–ª—å', color:'rgba(200,200,255,0.3)', desc:'–°–µ—Ä–∞ –≥–æ—Ä–∏—Ç –ì–û–õ–£–ë–´–ú –ø–ª–∞–º–µ–Ω–µ–º! –†–µ–∑–∫–∏–π –∑–∞–ø–∞—Ö SO‚ÇÇ.', med:'SO‚ÇÇ ‚Äî E220 (–∫–æ–Ω—Å–µ—Ä–≤–∞–Ω—Ç). –°–µ—Ä–∞ –≤—Ö–æ–¥–∏—Ç –≤ –∞–º–∏–Ω–æ–∫–∏—Å–ª–æ—Ç—ã (—Ü–∏—Å—Ç–µ–∏–Ω, –º–µ—Ç–∏–æ–Ω–∏–Ω).', cond:'–ü–æ–¥–∂–∏–≥', products:['SO‚ÇÇ'], danger:2 },
        { r:['Fe','O'], eq:'4Fe + 3O‚ÇÇ ‚Üí 2Fe‚ÇÇO‚ÇÉ', name:'–ì–æ—Ä–µ–Ω–∏–µ –∂–µ–ª–µ–∑–∞ üî•', type:'exo', energy:'-1648 –∫–î–∂/–º–æ–ª—å', color:'rgba(180,80,40,0.6)', desc:'–í —á–∏—Å—Ç–æ–º O‚ÇÇ –∂–µ–ª–µ–∑–æ –≥–æ—Ä–∏—Ç —è—Ä–∫–∏–º–∏ –∏—Å–∫—Ä–∞–º–∏! –ù–∞ –≤–æ–∑–¥—É—Ö–µ ‚Äî –ø—Ä–æ—Å—Ç–æ —Ä–∂–∞–≤–µ–µ—Ç.', med:'Fe –≤ –≥–µ–º–æ–≥–ª–æ–±–∏–Ω–µ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç O‚ÇÇ. Fe‚ÇÇO‚ÇÉ ‚Äî –æ—Å–Ω–æ–≤–∞ MRI-–∫–æ–Ω—Ç—Ä–∞—Å—Ç–æ–≤.', cond:'–ü–æ–¥–∂–∏–≥ –≤ O‚ÇÇ', products:['Fe‚ÇÇO‚ÇÉ'], danger:2 },
        { r:['Mg','O'], eq:'2Mg + O‚ÇÇ ‚Üí 2MgO', name:'–ì–æ—Ä–µ–Ω–∏–µ –º–∞–≥–Ω–∏—è ‚òÄÔ∏èüí•', type:'exo', energy:'-1204 –∫–î–∂/–º–æ–ª—å', color:'rgba(255,255,255,0.9)', desc:'–û–°–õ–ï–ü–ò–¢–ï–õ–¨–ù–û –Ø–†–ö–ò–ô –±–µ–ª—ã–π —Å–≤–µ—Ç! –ù–ò–ö–û–ì–î–ê –Ω–µ —Å–º–æ—Ç—Ä–∏—Ç–µ –±–µ–∑ –∑–∞—â–∏—Ç—ã! –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Ñ–µ–π–µ—Ä–≤–µ—Ä–∫–∞—Ö.', med:'MgO ‚Äî –∞–Ω—Ç–∞—Ü–∏–¥ –∏ —Å–ª–∞–±–∏—Ç–µ–ª—å–Ω–æ–µ. Mg ‚Äî –∫–æ—Ñ–∞–∫—Ç–æ—Ä 600+ —Ñ–µ—Ä–º–µ–Ω—Ç–æ–≤.', cond:'–ü–æ–¥–∂–∏–≥', products:['MgO'], danger:3 },
        { r:['P','O'], eq:'4P + 5O‚ÇÇ ‚Üí 2P‚ÇÇO‚ÇÖ', name:'–ì–æ—Ä–µ–Ω–∏–µ —Ñ–æ—Å—Ñ–æ—Ä–∞ üî•‚ò†Ô∏è', type:'exo', energy:'-3010 –∫–î–∂/–º–æ–ª—å', color:'rgba(255,255,200,0.7)', desc:'–ë–µ–ª—ã–π —Ñ–æ—Å—Ñ–æ—Ä —Å–∞–º–æ–≤–æ—Å–ø–ª–∞–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ –≤–æ–∑–¥—É—Ö–µ! –ì–æ—Ä–∏—Ç —è—Ä–∫–∏–º –ø–ª–∞–º–µ–Ω–µ–º. –ö–†–ê–ô–ù–ï –Ø–î–û–í–ò–¢!', med:'–§–æ—Å—Ñ–æ—Ä ‚Äî –≤ –î–ù–ö, –ê–¢–§, –∫–æ—Å—Ç—è—Ö. –§–æ—Å—Ñ–æ—Ä–Ω—ã–µ –æ–∂–æ–≥–∏ ‚Äî —Ç—è–∂–µ–ª–µ–π—à–∏–µ!', cond:'–°–∞–º–æ–≤–æ—Å–ø–ª–∞–º–µ–Ω–µ–Ω–∏–µ, t¬∞ > 34¬∞C', products:['P‚ÇÇO‚ÇÖ'], danger:5 },
        { r:['CH4','O'], eq:'CH‚ÇÑ + 2O‚ÇÇ ‚Üí CO‚ÇÇ + 2H‚ÇÇO', name:'–ì–æ—Ä–µ–Ω–∏–µ –º–µ—Ç–∞–Ω–∞ üî•', type:'exo', energy:'-890 –∫–î–∂/–º–æ–ª—å', color:'rgba(200,220,255,0.4)', desc:'–ü—Ä–∏—Ä–æ–¥–Ω—ã–π –≥–∞–∑ –≥–æ—Ä–∏—Ç —Å–∏–Ω–∏–º –ø–ª–∞–º–µ–Ω–µ–º. –ü—Ä–∏ —É—Ç–µ—á–∫–µ ‚Äî –í–ó–†–´–í!', med:'–ú–µ—Ç–∞–Ω –Ω–µ—Ç–æ–∫—Å–∏—á–µ–Ω, –Ω–æ –≤—ã—Ç–µ—Å–Ω—è–µ—Ç O‚ÇÇ ‚Üí –∞—Å—Ñ–∏–∫—Å–∏—è.', cond:'–ü–æ–¥–∂–∏–≥', products:['CO‚ÇÇ','H‚ÇÇO'], danger:3 },
        { r:['C2H2','O'], eq:'2C‚ÇÇH‚ÇÇ + 5O‚ÇÇ ‚Üí 4CO‚ÇÇ + 2H‚ÇÇO', name:'–ì–æ—Ä–µ–Ω–∏–µ –∞—Ü–µ—Ç–∏–ª–µ–Ω–∞ üî•', type:'exo', energy:'-2600 –∫–î–∂/–º–æ–ª—å', color:'rgba(255,200,100,0.6)', desc:'–ê—Ü–µ—Ç–∏–ª–µ–Ω –≥–æ—Ä–∏—Ç –Ø–†–ö–û —Å –∫–æ–ø–æ—Ç—å—é. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Å–≤–∞—Ä–∫–µ (3000¬∞C!). –í–ó–†–´–í–û–û–ü–ê–°–ï–ù!', med:'–ê—Ü–µ—Ç–∏–ª–µ–Ω –≤ –º–µ–¥–∏—Ü–∏–Ω–µ –Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è, –Ω–æ —Å–≤–∞—Ä–∫–∞ ‚Äî –¥–ª—è —Ö–∏—Ä—É—Ä–≥–∏—á–µ—Å–∫–∏—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤.', cond:'–ü–æ–¥–∂–∏–≥', products:['CO‚ÇÇ','H‚ÇÇO'], danger:4 },
        { r:['C2H5OH','O'], eq:'C‚ÇÇH‚ÇÖOH + 3O‚ÇÇ ‚Üí 2CO‚ÇÇ + 3H‚ÇÇO', name:'–ì–æ—Ä–µ–Ω–∏–µ —ç—Ç–∞–Ω–æ–ª–∞ üî•', type:'exo', energy:'-1367 –∫–î–∂/–º–æ–ª—å', color:'rgba(200,200,255,0.3)', desc:'–≠—Ç–∞–Ω–æ–ª –≥–æ—Ä–∏—Ç –≥–æ–ª—É–±–æ–≤–∞—Ç—ã–º –ø–ª–∞–º–µ–Ω–µ–º (–ø–æ—á—Ç–∏ –Ω–µ–≤–∏–¥–∏–º–æ–µ!). –°–ø–∏—Ä—Ç–æ–≤–∫–∏.', med:'70% —ç—Ç–∞–Ω–æ–ª ‚Äî –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –∞–Ω—Ç–∏—Å–µ–ø—Ç–∏–∫ –¥–ª—è –¥–µ–∑–∏–Ω—Ñ–µ–∫—Ü–∏–∏.', cond:'–ü–æ–¥–∂–∏–≥', products:['CO‚ÇÇ','H‚ÇÇO'], danger:2 },
        { r:['C3H8','O'], eq:'C‚ÇÉH‚Çà + 5O‚ÇÇ ‚Üí 3CO‚ÇÇ + 4H‚ÇÇO', name:'–ì–æ—Ä–µ–Ω–∏–µ –ø—Ä–æ–ø–∞–Ω–∞ üî•üí•', type:'exo', energy:'-2220 –∫–î–∂/–º–æ–ª—å', color:'rgba(255,200,150,0.5)', desc:'–ü—Ä–æ–ø–∞–Ω (–≥–∞–∑–æ–≤—ã–µ –±–∞–ª–ª–æ–Ω—ã) –≥–æ—Ä–∏—Ç —Å –±–æ–ª—å—à–∏–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ–º —Ç–µ–ø–ª–∞. –£—Ç–µ—á–∫–∞ ‚Üí –í–ó–†–´–í!', med:'–û–∂–æ–≥–∏ –æ—Ç –ø—Ä–æ–ø–∞–Ω–∞ ‚Äî —á–∞—Å—Ç–∞—è —Ç—Ä–∞–≤–º–∞.', cond:'–ü–æ–¥–∂–∏–≥', products:['CO‚ÇÇ','H‚ÇÇO'], danger:4 },

        // ===== –°–ò–ù–¢–ï–ó =====
        { r:['N','H'], eq:'N‚ÇÇ + 3H‚ÇÇ ‚áå 2NH‚ÇÉ', name:'–°–∏–Ω—Ç–µ–∑ –∞–º–º–∏–∞–∫–∞ (–ì–∞–±–µ—Ä)', type:'exo', energy:'-92 –∫–î–∂/–º–æ–ª—å', color:'rgba(200,255,200,0.4)', desc:'–û–¥–Ω–∞ –∏–∑ –≤–∞–∂–Ω–µ–π—à–∏—Ö —Ä–µ–∞–∫—Ü–∏–π XX –≤–µ–∫–∞. –ù—É–∂–Ω—ã: 450¬∞C, 200 –∞—Ç–º, –∫–∞—Ç. Fe.', med:'NH‚ÇÉ ‚Äî –ø—Ä–æ–¥—É–∫—Ç —Ä–∞—Å–ø–∞–¥–∞ –∞–º–∏–Ω–æ–∫–∏—Å–ª–æ—Ç. –ü–µ—á–µ–Ω—å ‚Üí –º–æ—á–µ–≤–∏–Ω–∞. –ü–µ—á. –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ—Å—Ç—å ‚Üí –∞–º–º–∏–∞—á–Ω–∞—è —ç–Ω—Ü–µ—Ñ–∞–ª–æ–ø–∞—Ç–∏—è.', cond:'450¬∞C, 200 –∞—Ç–º, –∫–∞—Ç. Fe', products:['NH‚ÇÉ'], danger:1 },
        { r:['Na','Cl'], eq:'2Na + Cl‚ÇÇ ‚Üí 2NaCl', name:'–ù–∞—Ç—Ä–∏–π + —Ö–ª–æ—Ä üí•üî•', type:'exo', energy:'-822 –∫–î–∂/–º–æ–ª—å', color:'rgba(255,255,255,0.6)', desc:'–Ø—Ä–∫–∞—è –≤—Å–ø—ã—à–∫–∞! –ù–∞—Ç—Ä–∏–π –ì–û–†–ò–¢ –≤ —Ö–ª–æ—Ä–µ ‚Äî –æ–±—Ä–∞–∑—É–µ—Ç—Å—è –ø–æ–≤–∞—Ä–µ–Ω–Ω–∞—è —Å–æ–ª—å! –•–ª–æ—Ä ‚Äî –Ø–î–û–í–ò–¢!', med:'NaCl 0.9% ‚Äî —Ñ–∏–∑—Ä–∞—Å—Ç–≤–æ—Ä, –æ—Å–Ω–æ–≤–∞ –∏–Ω—Ñ—É–∑–∏–π.', cond:'–ü–æ–¥–∂–∏–≥', products:['NaCl'], danger:4 },
        { r:['Fe','S'], eq:'Fe + S ‚Üí FeS', name:'–ñ–µ–ª–µ–∑–æ + —Å–µ—Ä–∞', type:'exo', energy:'-100 –∫–î–∂/–º–æ–ª—å', color:'rgba(80,80,60,0.6)', desc:'–°–º–µ—Å—å –ø–æ—Ä–æ—à–∫–æ–≤ Fe + S –ø—Ä–∏ –Ω–∞–≥—Ä–µ–≤–∞–Ω–∏–∏ ‚Üí –≤—Å–ø—ã—à–∫–∞! –°—É–ª—å—Ñ–∏–¥ –∂–µ–ª–µ–∑–∞.', med:'H‚ÇÇS ‚Äî –≥–∞–∑–æ—Ç—Ä–∞–Ω—Å–º–∏—Ç—Ç–µ—Ä, —Ä–µ–≥—É–ª–∏—Ä—É–µ—Ç —Ç–æ–Ω—É—Å —Å–æ—Å—É–¥–æ–≤.', cond:'–ù–∞–≥—Ä–µ–≤', products:['FeS'], danger:1 },
        { r:['CaO','H2O'], eq:'CaO + H‚ÇÇO ‚Üí Ca(OH)‚ÇÇ', name:'–ì–∞—à–µ–Ω–∏–µ –∏–∑–≤–µ—Å—Ç–∏ üî•', type:'exo', energy:'-65 –∫–î–∂/–º–æ–ª—å', color:'rgba(255,255,240,0.6)', desc:'–ù–µ–≥–∞—à—ë–Ω–∞—è –∏–∑–≤–µ—Å—Ç—å + –≤–æ–¥–∞ = —Å–∏–ª—å–Ω—ã–π —Ä–∞–∑–æ–≥—Ä–µ–≤! –ü–∞—Ä, –∫–∏–ø–µ–Ω–∏–µ! –ú–æ–∂–Ω–æ –æ–±–∂–µ—á—å—Å—è!', med:'Ca(OH)‚ÇÇ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Å—Ç–æ–º–∞—Ç–æ–ª–æ–≥–∏–∏. –û–∂–æ–≥–∏ –∏–∑–≤–µ—Å—Ç—å—é ‚Äî –æ–ø–∞—Å–Ω—ã.', cond:'t¬∞ –∫–æ–º–Ω–∞—Ç–Ω–∞—è', products:['Ca(OH)‚ÇÇ'], danger:2 },

        // ===== –†–ê–ó–õ–û–ñ–ï–ù–ò–ï =====
        { r:['H2O2','MnO2'], eq:'2H‚ÇÇO‚ÇÇ ‚Üí 2H‚ÇÇO + O‚ÇÇ‚Üë', name:'–†–∞–∑–ª–æ–∂–µ–Ω–∏–µ –ø–µ—Ä–µ–∫–∏—Å–∏ (–∫–∞—Ç.)', type:'exo', energy:'-196 –∫–î–∂', color:'rgba(220,240,255,0.4)', desc:'MnO‚ÇÇ ‚Äî –∫–∞—Ç–∞–ª–∏–∑–∞—Ç–æ—Ä! –ü–µ—Ä–µ–∫–∏—Å—å –±—É—Ä–Ω–æ —Ä–∞–∑–ª–∞–≥–∞–µ—Ç—Å—è —Å –≤—ã–¥–µ–ª–µ–Ω–∏–µ–º O‚ÇÇ. ¬´–°–ª–æ–Ω–æ–≤–∞—è –∑—É–±–Ω–∞—è –ø–∞—Å—Ç–∞¬ª!', med:'H‚ÇÇO‚ÇÇ 3% ‚Äî –∞–Ω—Ç–∏—Å–µ–ø—Ç–∏–∫ –¥–ª—è —Ä–∞–Ω. MnO‚ÇÇ ‚Äî –Ω–µ —Ä–∞—Å—Ö–æ–¥—É–µ—Ç—Å—è –≤ —Ä–µ–∞–∫—Ü–∏–∏.', cond:'–ö–∞—Ç–∞–ª–∏–∑–∞—Ç–æ—Ä MnO‚ÇÇ', products:['H‚ÇÇO','O‚ÇÇ'], danger:1 },
        { r:['KMnO4','H2SO4'], eq:'2KMnO‚ÇÑ + H‚ÇÇSO‚ÇÑ ‚Üí Mn‚ÇÇO‚Çá + K‚ÇÇSO‚ÇÑ + H‚ÇÇO', name:'KMnO‚ÇÑ + –∫–æ–Ω—Ü. H‚ÇÇSO‚ÇÑ ‚ò†Ô∏èüî•', type:'exo', energy:'-312 –∫–î–∂', color:'rgba(100,0,100,0.6)', desc:'–ö–†–ê–ô–ù–ï –û–ü–ê–°–ù–û! –û–±—Ä–∞–∑—É–µ—Ç—Å—è Mn‚ÇÇO‚Çá ‚Äî –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ–µ –≤–µ—â–µ—Å—Ç–≤–æ, –º–æ–∂–µ—Ç –í–ó–û–†–í–ê–¢–¨–°–Ø! –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –ø–æ–¥–∂–∏–≥–∞—Ç–µ–ª—å.', med:'KMnO‚ÇÑ (–º–∞—Ä–≥–∞–Ω—Ü–æ–≤–∫–∞) ‚Äî –∞–Ω—Ç–∏—Å–µ–ø—Ç–∏–∫ –¥–ª—è —Ä–∞–Ω. –ù–æ –∫–æ–Ω—Ü. —Ä–∞—Å—Ç–≤–æ—Ä—ã ‚Üí –æ–∂–æ–≥–∏!', cond:'–ö–æ–Ω—Ü. H‚ÇÇSO‚ÇÑ', products:['Mn‚ÇÇO‚Çá','K‚ÇÇSO‚ÇÑ','H‚ÇÇO'], danger:5 },

        // ===== –¢–ï–†–ú–ò–¢ –ò –≠–ö–ó–û–¢–ò–ö–ê =====
        { r:['Al','Fe2O3'], eq:'2Al + Fe‚ÇÇO‚ÇÉ ‚Üí Al‚ÇÇO‚ÇÉ + 2Fe', name:'–¢–ï–†–ú–ò–¢–ù–ê–Ø –†–ï–ê–ö–¶–ò–Ø üî•üí•‚ò†Ô∏è', type:'exo', energy:'-852 –∫–î–∂/–º–æ–ª—å', color:'rgba(255,100,0,0.8)', desc:'–ü–†–ï–î–ï–õ–¨–ù–û –û–ü–ê–°–ù–û! –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ > 2500¬∞C! –†–∞—Å–ø–ª–∞–≤–ª–µ–Ω–Ω–æ–µ –∂–µ–ª–µ–∑–æ! –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–æ—Ç—É—à–∏—Ç—å –≤–æ–¥–æ–π! –ì–æ—Ä–∏—Ç –¥–∞–∂–µ –ø–æ–¥ –≤–æ–¥–æ–π!', med:'–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Ö–∏—Ä—É—Ä–≥–∏–∏ –¥–ª—è —Å—Ç–µ—Ä–∏–ª–∏–∑–∞—Ü–∏–∏. –û–∂–æ–≥–∏ —Ç–µ—Ä–º–∏—Ç–æ–º ‚Äî –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ–∏—á–µ—Å–∫–∏–µ.', cond:'–ü–æ–¥–∂–∏–≥ (–Ω—É–∂–µ–Ω Mg –∫–∞–∫ –∑–∞–ø–∞–ª)', products:['Al‚ÇÇO‚ÇÉ','Fe'], danger:5 },
        { r:['H2O2','KMnO4'], eq:'5H‚ÇÇO‚ÇÇ + 2KMnO‚ÇÑ ‚Üí 5O‚ÇÇ‚Üë + 2MnO‚ÇÇ + 2KOH + 3H‚ÇÇO', name:'–ü–µ—Ä–µ–∫–∏—Å—å + –º–∞—Ä–≥–∞–Ω—Ü–æ–≤–∫–∞', type:'exo', energy:'-196 –∫–î–∂', color:'rgba(255,200,255,0.5)', desc:'–§–∏–æ–ª–µ—Ç–æ–≤—ã–π —Ä–∞—Å—Ç–≤–æ—Ä –æ–±–µ—Å—Ü–≤–µ—á–∏–≤–∞–µ—Ç—Å—è! –ë—É—Ä–Ω–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ O‚ÇÇ.', med:'–ü–µ—Ä–µ–∫–∏—Å—å (3%) –∏ –º–∞—Ä–≥–∞–Ω—Ü–æ–≤–∫–∞ ‚Äî –∞–Ω—Ç–∏—Å–µ–ø—Ç–∏–∫–∏.', cond:'t¬∞ –∫–æ–º–Ω–∞—Ç–Ω–∞—è', products:['O‚ÇÇ','MnO‚ÇÇ','KOH','H‚ÇÇO'], danger:1 },

        // ===== –ì–ê–ó–û–í–´–ï –†–ï–ê–ö–¶–ò–ò =====
        { r:['NH3','HCl'], eq:'NH‚ÇÉ + HCl ‚Üí NH‚ÇÑCl', name:'¬´–î—ã–º –±–µ–∑ –æ–≥–Ω—è¬ª üí®', type:'exo', energy:'-176 –∫–î–∂/–º–æ–ª—å', color:'rgba(255,255,255,0.6)', desc:'–ë–µ–ª—ã–π ¬´–¥—ã–º¬ª (–∞—ç—Ä–æ–∑–æ–ª—å NH‚ÇÑCl) –ø—Ä–∏ —Å–±–ª–∏–∂–µ–Ω–∏–∏! –†–µ–∞–∫—Ü–∏—è –≤ –ì–ê–ó–û–í–û–ô –§–ê–ó–ï!', med:'–ù–∞—à–∞—Ç—ã—Ä–Ω—ã–π —Å–ø–∏—Ä—Ç ‚Äî –ø–µ—Ä–≤–∞—è –ø–æ–º–æ—â—å –ø—Ä–∏ –æ–±–º–æ—Ä–æ–∫–∞—Ö. NH‚ÇÑCl ‚Äî –æ—Ç—Ö–∞—Ä–∫–∏–≤–∞—é—â–µ–µ.', cond:'–ì–∞–∑–æ–≤–∞—è —Ñ–∞–∑–∞', products:['NH‚ÇÑCl'], danger:1 },

        // ===== –û–ß–ï–ù–¨ –û–ü–ê–°–ù–´–ï –†–ï–ê–ö–¶–ò–ò =====
        { r:['Na','C2H5OH'], eq:'2C‚ÇÇH‚ÇÖOH + 2Na ‚Üí 2C‚ÇÇH‚ÇÖONa + H‚ÇÇ‚Üë', name:'–ù–∞—Ç—Ä–∏–π + —ç—Ç–∞–Ω–æ–ª', type:'exo', energy:'-90 –∫–î–∂/–º–æ–ª—å', color:'rgba(220,200,180,0.4)', desc:'–ù–∞—Ç—Ä–∏–π –º–µ–¥–ª–µ–Ω–Ω–µ–µ —Ä–µ–∞–≥–∏—Ä—É–µ—Ç —Å —ç—Ç–∞–Ω–æ–ª–æ–º, —á–µ–º —Å –≤–æ–¥–æ–π. –í—ã–¥–µ–ª—è–µ—Ç—Å—è H‚ÇÇ.', med:'–≠—Ç–∞–Ω–æ–ª (–º–µ–¥. —Å–ø–∏—Ä—Ç) ‚Äî –∞–Ω—Ç–∏—Å–µ–ø—Ç–∏–∫. –≠—Ç–∏–ª–∞—Ç –Ω–∞—Ç—Ä–∏—è ‚Äî —Ä–µ–∞–≥–µ–Ω—Ç –≤ —Å–∏–Ω—Ç–µ–∑–µ –ª–µ–∫–∞—Ä—Å—Ç–≤.', cond:'t¬∞ –∫–æ–º–Ω–∞—Ç–Ω–∞—è', products:['C‚ÇÇH‚ÇÖONa','H‚ÇÇ'], danger:2 },
        { r:['HCN','NaOH'], eq:'HCN + NaOH ‚Üí NaCN + H‚ÇÇO', name:'–°–∏–Ω–∏–ª—å–Ω–∞—è –∫-—Ç–∞ + NaOH ‚ò†Ô∏è', type:'exo', energy:'-42 –∫–î–∂/–º–æ–ª—å', color:'rgba(200,200,230,0.3)', desc:'–°–ò–ù–ò–õ–¨–ù–ê–Ø –ö–ò–°–õ–û–¢–ê ‚Äî –°–ú–ï–†–¢–ï–õ–¨–ù–û –Ø–î–û–í–ò–¢–ê! –ó–∞–ø–∞—Ö –≥–æ—Ä—å–∫–æ–≥–æ –º–∏–Ω–¥–∞–ª—è. –î–∞–∂–µ –ø–∞—Ä—ã —É–±–∏–≤–∞—é—Ç!', med:'HCN –±–ª–æ–∫–∏—Ä—É–µ—Ç —Ü–∏—Ç–æ—Ö—Ä–æ–º–æ–∫—Å–∏–¥–∞–∑—É ‚Üí –∫–ª–µ—Ç–æ—á–Ω–æ–µ —É–¥—É—à—å–µ. –ê–Ω—Ç–∏–¥–æ—Ç: –∞–º–∏–ª–Ω–∏—Ç—Ä–∏—Ç, Na‚ÇÇS‚ÇÇO‚ÇÉ.', cond:'t¬∞ –∫–æ–º–Ω–∞—Ç–Ω–∞—è', products:['NaCN','H‚ÇÇO'], danger:5 },
        { r:['Hg','HNO3'], eq:'3Hg + 8HNO‚ÇÉ(—Ä–∞–∑–±.) ‚Üí 3Hg(NO‚ÇÉ)‚ÇÇ + 2NO‚Üë + 4H‚ÇÇO', name:'–†—Ç—É—Ç—å + –∞–∑–æ—Ç–Ω–∞—è –∫-—Ç–∞ ‚ò†Ô∏è', type:'exo', energy:'-140 –∫–î–∂/–º–æ–ª—å', color:'rgba(192,192,192,0.5)', desc:'–†—Ç—É—Ç—å —Ä–∞—Å—Ç–≤–æ—Ä—è–µ—Ç—Å—è –≤ HNO‚ÇÉ. –ü–∞—Ä—ã —Ä—Ç—É—Ç–∏ –ö–†–ê–ô–ù–ï –Ø–î–û–í–ò–¢–´! –ü–æ—Ä–∞–∂–∞—é—Ç –¶–ù–° –∏ –ø–æ—á–∫–∏.', med:'–û—Ç—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä—Ç—É—Ç—å—é (–±–æ–ª–µ–∑–Ω—å –ú–∏–Ω–∞–º–∞—Ç—ã). –ê–Ω—Ç–∏–¥–æ—Ç ‚Äî —É–Ω–∏—Ç–∏–æ–ª, D-–ø–µ–Ω–∏—Ü–∏–ª–ª–∞–º–∏–Ω.', cond:'t¬∞ –∫–æ–º–Ω–∞—Ç–Ω–∞—è', products:['Hg(NO‚ÇÉ)‚ÇÇ','NO','H‚ÇÇO'], danger:5 },
        { r:['K2Cr2O7','H2SO4'], eq:'K‚ÇÇCr‚ÇÇO‚Çá + H‚ÇÇSO‚ÇÑ ‚Üí —Å–∏–ª—å–Ω—ã–π –æ–∫–∏—Å–ª–∏—Ç–µ–ª—å ‚ò†Ô∏è', name:'–•—Ä–æ–º–æ–≤–∞—è —Å–º–µ—Å—å ‚ò†Ô∏è', type:'exo', energy:'-200 –∫–î–∂', color:'rgba(255,100,0,0.5)', desc:'–•–†–û–ú–û–í–ê–Ø –°–ú–ï–°–¨ ‚Äî –º–æ—â–Ω–µ–π—à–∏–π –æ–∫–∏—Å–ª–∏—Ç–µ–ª—å! –°–∂–∏–≥–∞–µ—Ç –æ—Ä–≥–∞–Ω–∏–∫—É! Cr‚Å∂‚Å∫ ‚Äî –∫–∞–Ω—Ü–µ—Ä–æ–≥–µ–Ω!', med:'–•—Ä–æ–º(VI) –≤—ã–∑—ã–≤–∞–µ—Ç —Ä–∞–∫ –ª—ë–≥–∫–∏—Ö. –•—Ä–æ–º–æ–≤—ã–µ —è–∑–≤—ã –Ω–∞ –∫–æ–∂–µ. –ü–î–ö —Å—Ç—Ä–æ–≥–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞.', cond:'–ö–æ–Ω—Ü. H‚ÇÇSO‚ÇÑ', products:['CrO‚ÇÉ','K‚ÇÇSO‚ÇÑ','H‚ÇÇO'], danger:5 },
        { r:['C6H6','Br'], eq:'C‚ÇÜH‚ÇÜ + Br‚ÇÇ ‚Üí C‚ÇÜH‚ÇÖBr + HBr (–∫–∞—Ç. FeBr‚ÇÉ)', name:'–ë—Ä–æ–º–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–Ω–∑–æ–ª–∞', type:'exo', energy:'-50 –∫–î–∂/–º–æ–ª—å', color:'rgba(150,80,50,0.5)', desc:'–ó–∞–º–µ—â–µ–Ω–∏–µ H –Ω–∞ Br –≤ –±–µ–Ω–∑–æ–ª—å–Ω–æ–º –∫–æ–ª—å—Ü–µ. –ù—É–∂–µ–Ω –∫–∞—Ç–∞–ª–∏–∑–∞—Ç–æ—Ä. –ë—Ä–æ–º ‚Äî –ï–î–ö–ò–ô!', med:'–ë—Ä–æ–º–∏–¥—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å –∫–∞–∫ —Å–µ–¥–∞—Ç–∏–≤–Ω—ã–µ. –ë—Ä–æ–º –≤—ã–∑—ã–≤–∞–µ—Ç –æ–∂–æ–≥–∏ –∫–æ–∂–∏.', cond:'–ö–∞—Ç. FeBr‚ÇÉ', products:['C‚ÇÜH‚ÇÖBr','HBr'], danger:3 },

        // ===== –û–ö–ò–°–õ–ò–¢–ï–õ–¨–ù–û-–í–û–°–°–¢–ê–ù–û–í–ò–¢–ï–õ–¨–ù–´–ï =====
        { r:['C6H12O6','O'], eq:'C‚ÇÜH‚ÇÅ‚ÇÇO‚ÇÜ + 6O‚ÇÇ ‚Üí 6CO‚ÇÇ + 6H‚ÇÇO', name:'–û–∫–∏—Å–ª–µ–Ω–∏–µ –≥–ª—é–∫–æ–∑—ã (–¥—ã—Ö–∞–Ω–∏–µ)', type:'exo', energy:'-2803 –∫–î–∂/–º–æ–ª—å', color:'rgba(255,220,180,0.4)', desc:'–ö–õ–ï–¢–û–ß–ù–û–ï –î–´–•–ê–ù–ò–ï! –≠–Ω–µ—Ä–≥–∏—è –¥–ª—è –∂–∏–∑–Ω–∏! –≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ –∫–∞–∂–¥–æ–π –∫–ª–µ—Ç–∫–µ –≤–∞—à–µ–≥–æ —Ç–µ–ª–∞!', med:'–ì–ª—é–∫–æ–∑–∞ 5% ‚Äî —Ä–∞—Å—Ç–≤–æ—Ä –¥–ª—è –∫–∞–ø–µ–ª—å–Ω–∏—Ü. –î–∏–∞–±–µ—Ç ‚Äî –Ω–∞—Ä—É—à–µ–Ω–∏–µ –æ–±–º–µ–Ω–∞ –≥–ª—é–∫–æ–∑—ã.', cond:'–§–µ—Ä–º–µ–Ω—Ç—ã, 37¬∞C', products:['CO‚ÇÇ','H‚ÇÇO'], danger:0 },
        { r:['FeSO4','KMnO4'], eq:'10FeSO‚ÇÑ + 2KMnO‚ÇÑ + 8H‚ÇÇSO‚ÇÑ ‚Üí 5Fe‚ÇÇ(SO‚ÇÑ)‚ÇÉ + 2MnSO‚ÇÑ + K‚ÇÇSO‚ÇÑ + 8H‚ÇÇO', name:'–ü–µ—Ä–º–∞–Ω–≥–∞–Ω–∞—Ç–æ–º–µ—Ç—Ä–∏—è', type:'exo', energy:'-500 –∫–î–∂', color:'rgba(255,200,255,0.3)', desc:'–§–∏–æ–ª–µ—Ç–æ–≤—ã–π KMnO‚ÇÑ –æ–±–µ—Å—Ü–≤–µ—á–∏–≤–∞–µ—Ç—Å—è! –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥ —Ç–∏—Ç—Ä–æ–≤–∞–Ω–∏—è (–∞–Ω–∞–ª–∏—Ç. —Ö–∏–º–∏—è).', med:'–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è Fe¬≤‚Å∫ –≤ –∫—Ä–æ–≤–∏ –∏ –ª–µ–∫–∞—Ä—Å—Ç–≤–∞—Ö.', cond:'–ö–∏—Å–ª–∞—è —Å—Ä–µ–¥–∞', products:['Fe‚ÇÇ(SO‚ÇÑ)‚ÇÉ','MnSO‚ÇÑ','H‚ÇÇO'], danger:0 },

        // ===== –ò–ù–î–ò–ö–ê–¢–û–†–ù–´–ï –†–ï–ê–ö–¶–ò–ò =====
        { r:['phenol','NaOH'], eq:'–§–µ–Ω–æ–ª—Ñ—Ç–∞–ª–µ–∏–Ω + NaOH ‚Üí –ú–ê–õ–ò–ù–û–í–´–ô —Ü–≤–µ—Ç', name:'–§–µ–Ω–æ–ª—Ñ—Ç–∞–ª–µ–∏–Ω –≤ —â—ë–ª–æ—á–∏', type:'neutral', energy:'0', color:'rgba(255,0,128,0.5)', desc:'–§–µ–Ω–æ–ª—Ñ—Ç–∞–ª–µ–∏–Ω —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ú–ê–õ–ò–ù–û–í–´–ú –≤ —â–µ–ª–æ—á–Ω–æ–π —Å—Ä–µ–¥–µ (pH > 8.2)! –ë–µ—Å—Ü–≤–µ—Ç–Ω—ã–π ‚Üí –º–∞–ª–∏–Ω–æ–≤—ã–π.', med:'–§–µ–Ω–æ–ª—Ñ—Ç–∞–ª–µ–∏–Ω (–ø—É—Ä–≥–µ–Ω) —Ä–∞–Ω–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –∫–∞–∫ —Å–ª–∞–±–∏—Ç–µ–ª—å–Ω–æ–µ.', cond:'pH > 8.2', products:['–ú–∞–ª–∏–Ω–æ–≤—ã–π —Ä–∞—Å—Ç–≤–æ—Ä'], danger:0 },
        { r:['litmus','HCl'], eq:'–õ–∞–∫–º—É—Å + HCl ‚Üí –ö–†–ê–°–ù–´–ô —Ü–≤–µ—Ç', name:'–õ–∞–∫–º—É—Å –≤ –∫–∏—Å–ª–æ—Ç–µ', type:'neutral', energy:'0', color:'rgba(255,50,50,0.5)', desc:'–õ–∞–∫–º—É—Å –∫—Ä–∞—Å–Ω–µ–µ—Ç –≤ –∫–∏—Å–ª–æ—Ç–µ! –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä pH.', med:'–õ–∞–∫–º—É—Å–æ–≤–∞—è –±—É–º–∞–≥–∞ ‚Äî –≤ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏–∏ –¥–ª—è —ç–∫—Å–ø—Ä–µ—Å—Å-–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è pH.', cond:'pH < 5', products:['–ö—Ä–∞—Å–Ω—ã–π —Ä–∞—Å—Ç–≤–æ—Ä'], danger:0 },
        { r:['litmus','NaOH'], eq:'–õ–∞–∫–º—É—Å + NaOH ‚Üí –°–ò–ù–ò–ô —Ü–≤–µ—Ç', name:'–õ–∞–∫–º—É—Å –≤ —â—ë–ª–æ—á–∏', type:'neutral', energy:'0', color:'rgba(50,50,255,0.5)', desc:'–õ–∞–∫–º—É—Å —Å–∏–Ω–µ–µ—Ç –≤ —â—ë–ª–æ—á–∏! –ö—Ä–∞—Å–Ω—ã–π ‚Üí —Å–∏–Ω–∏–π.', med:'–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ pH –º–æ—á–∏, —Å–ª—é–Ω—ã, –≤–ª–∞–≥–∞–ª–∏—â–Ω–æ–≥–æ —Å–µ–∫—Ä–µ—Ç–∞.', cond:'pH > 8', products:['–°–∏–Ω–∏–π —Ä–∞—Å—Ç–≤–æ—Ä'], danger:0 },
        { r:['methyl_o','HCl'], eq:'–ú–µ—Ç–∏–ª–æ—Ä–∞–Ω–∂ + HCl ‚Üí –ö–†–ê–°–ù–´–ô —Ü–≤–µ—Ç', name:'–ú–µ—Ç–∏–ª–æ—Ä–∞–Ω–∂ –≤ –∫–∏—Å–ª–æ—Ç–µ', type:'neutral', energy:'0', color:'rgba(255,80,0,0.5)', desc:'–ú–µ—Ç–∏–ª–æ—Ä–∞–Ω–∂: –æ—Ä–∞–Ω–∂–µ–≤—ã–π ‚Üí –ö–†–ê–°–ù–´–ô –≤ –∫–∏—Å–ª–æ—Ç–µ (pH < 3.1).', med:'–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Ç–∏—Ç—Ä–æ–≤–∞–Ω–∏–∏ –ª–µ–∫–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ä–∞—Å—Ç–≤–æ—Ä–æ–≤.', cond:'pH < 3.1', products:['–ö—Ä–∞—Å–Ω—ã–π —Ä–∞—Å—Ç–≤–æ—Ä'], danger:0 },

        // ===== –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï =====
        { r:['H2S','FeCl3'], eq:'H‚ÇÇS + 2FeCl‚ÇÉ ‚Üí S‚Üì + 2FeCl‚ÇÇ + 2HCl', name:'–°–µ—Ä–æ–≤–æ–¥–æ—Ä–æ–¥ + FeCl‚ÇÉ', type:'exo', energy:'-80 –∫–î–∂/–º–æ–ª—å', color:'rgba(255,255,100,0.3)', desc:'–ñ—ë–ª—Ç—ã–π –æ—Å–∞–¥–æ–∫ —Å–µ—Ä—ã! H‚ÇÇS –æ–∫–∏—Å–ª—è–µ—Ç—Å—è, Fe¬≥‚Å∫ ‚Üí Fe¬≤‚Å∫.', med:'H‚ÇÇS ‚Äî –≥–∞–∑–æ—Ç—Ä–∞–Ω—Å–º–∏—Ç—Ç–µ—Ä. –í –±–æ–ª—å—à–∏—Ö –¥–æ–∑–∞—Ö ‚Äî –Ø–î–û–í–ò–¢ (–∑–∞–ø–∞—Ö —Ç—É—Ö–ª—ã—Ö —è–∏—Ü).', cond:'t¬∞ –∫–æ–º–Ω–∞—Ç–Ω–∞—è', products:['S‚Üì','FeCl‚ÇÇ','HCl'], danger:3 },
        { r:['Na2O','H2O'], eq:'Na‚ÇÇO + H‚ÇÇO ‚Üí 2NaOH', name:'–û–∫—Å–∏–¥ –Ω–∞—Ç—Ä–∏—è + –≤–æ–¥–∞', type:'exo', energy:'-146 –∫–î–∂/–º–æ–ª—å', color:'rgba(200,200,255,0.4)', desc:'–û—Å–Ω–æ–≤–Ω–æ–π –æ–∫—Å–∏–¥ + –≤–æ–¥–∞ ‚Üí —â—ë–ª–æ—á—å! –°–∏–ª—å–Ω–∞—è —ç–∫–∑–æ—Ç–µ—Ä–º–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–∫—Ü–∏—è.', med:'NaOH —Ä–∞–∑—ä–µ–¥–∞–µ—Ç —Ç–∫–∞–Ω–∏. –•–∏–º–∏—á–µ—Å–∫–∏–µ –æ–∂–æ–≥–∏ —â—ë–ª–æ—á—å—é ‚Äî –≥–ª—É–±–∂–µ, —á–µ–º –∫–∏—Å–ª–æ—Ç–Ω—ã–µ!', cond:'t¬∞ –∫–æ–º–Ω–∞—Ç–Ω–∞—è', products:['NaOH'], danger:2 },
        { r:['SO2','H2O'], eq:'SO‚ÇÇ + H‚ÇÇO ‚Üí H‚ÇÇSO‚ÇÉ', name:'SO‚ÇÇ + –≤–æ–¥–∞ ‚Üí —Å–µ—Ä–Ω–∏—Å—Ç–∞—è –∫-—Ç–∞', type:'exo', energy:'-42 –∫–î–∂/–º–æ–ª—å', color:'rgba(220,220,180,0.3)', desc:'–ö–∏—Å–ª–æ—Ç–Ω—ã–π –æ–∫—Å–∏–¥ + –≤–æ–¥–∞ ‚Üí –∫–∏—Å–ª–æ—Ç–∞. –ü—Ä–∏—á–∏–Ω–∞ –∫–∏—Å–ª–æ—Ç–Ω—ã—Ö –¥–æ–∂–¥–µ–π!', med:'SO‚ÇÇ —Ä–∞–∑–¥—Ä–∞–∂–∞–µ—Ç –¥—ã—Ö–∞—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏. –í—ã–∑—ã–≤–∞–µ—Ç –±—Ä–æ–Ω—Ö–æ—Å–ø–∞–∑–º —É –∞—Å—Ç–º–∞—Ç–∏–∫–æ–≤.', cond:'t¬∞ –∫–æ–º–Ω–∞—Ç–Ω–∞—è', products:['H‚ÇÇSO‚ÇÉ'], danger:2 },
        { r:['CO2','H2O'], eq:'CO‚ÇÇ + H‚ÇÇO ‚áå H‚ÇÇCO‚ÇÉ', name:'CO‚ÇÇ + –≤–æ–¥–∞ ‚Üí —É–≥–æ–ª—å–Ω–∞—è –∫-—Ç–∞', type:'neutral', energy:'-20 –∫–î–∂/–º–æ–ª—å', color:'rgba(200,220,240,0.2)', desc:'–°–ª–∞–±–∞—è –Ω–µ—Å—Ç–æ–π–∫–∞—è –∫–∏—Å–ª–æ—Ç–∞. –ì–∞–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–æ–¥–∞!', med:'CO‚ÇÇ + H‚ÇÇO ‚Äî –±—É—Ñ–µ—Ä–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫—Ä–æ–≤–∏ (–±–∏–∫–∞—Ä–±–æ–Ω–∞—Ç–Ω—ã–π –±—É—Ñ–µ—Ä). –ö–ª—é—á–µ–≤–∞—è –¥–ª—è pH –∫—Ä–æ–≤–∏!', cond:'t¬∞ –∫–æ–º–Ω–∞—Ç–Ω–∞—è', products:['H‚ÇÇCO‚ÇÉ'], danger:0 },
        { r:['NH4Cl','NaOH'], eq:'NH‚ÇÑCl + NaOH ‚Üí NaCl + NH‚ÇÉ‚Üë + H‚ÇÇO', name:'–ü–æ–ª—É—á–µ–Ω–∏–µ –∞–º–º–∏–∞–∫–∞', type:'endo', energy:'+16 –∫–î–∂/–º–æ–ª—å', color:'rgba(200,255,200,0.3)', desc:'–ü—Ä–∏ –Ω–∞–≥—Ä–µ–≤–∞–Ω–∏–∏ –≤—ã–¥–µ–ª—è–µ—Ç—Å—è –∞–º–º–∏–∞–∫ (—Ä–µ–∑–∫–∏–π –∑–∞–ø–∞—Ö!). –õ–∞–∫–º—É—Å —Å–∏–Ω–µ–µ—Ç –æ—Ç –ø–∞—Ä–æ–≤.', med:'–ù–∞—à–∞—Ç—ã—Ä–Ω—ã–π —Å–ø–∏—Ä—Ç (—Ä-—Ä NH‚ÇÉ) ‚Äî –ø—Ä–∏ –æ–±–º–æ—Ä–æ–∫–∞—Ö. –†–∞–∑–¥—Ä–∞–∂–∞–µ—Ç –æ–±–æ–Ω—è–Ω–∏–µ ‚Üí —Ä–µ—Ñ–ª–µ–∫—Ç–æ—Ä–Ω–æ–µ –ø—Ä–æ–±—É–∂–¥–µ–Ω–∏–µ.', cond:'–ù–∞–≥—Ä–µ–≤', products:['NaCl','NH‚ÇÉ','H‚ÇÇO'], danger:1 },
    ];

    // ========================================
    // STATE
    // ========================================
    let tableItems = [];
    let flaskItems = [];
    let history = [];
    let totalReactions = 0;
    let activeCategory = 'all';
    let searchQuery = '';

    // ========================================
    // CATEGORIES
    // ========================================
    const CATEGORIES = [
        { key: 'all',        label: '–í—Å–µ' },
        { key: 'nonmetal',   label: '–ù–µ–º–µ—Ç–∞–ª–ª—ã' },
        { key: 'alkali',     label: '–©–µ–ª–æ—á–Ω—ã–µ' },
        { key: 'alkaline',   label: '–©—ë–ª.–∑–µ–º–µ–ª—å–Ω—ã–µ' },
        { key: 'transition', label: '–ü–µ—Ä–µ—Ö–æ–¥–Ω—ã–µ' },
        { key: 'metal',      label: '–ú–µ—Ç–∞–ª–ª—ã' },
        { key: 'halogen',    label: '–ì–∞–ª–æ–≥–µ–Ω—ã' },
        { key: 'noble',      label: '–ë–ª–∞–≥–æ—Ä–æ–¥–Ω—ã–µ' },
        { key: 'acid',       label: '–ö–∏—Å–ª–æ—Ç—ã' },
        { key: 'base',       label: '–û—Å–Ω–æ–≤–∞–Ω–∏—è' },
        { key: 'salt',       label: '–°–æ–ª–∏' },
        { key: 'oxide',      label: '–û–∫—Å–∏–¥—ã' },
        { key: 'organic',    label: '–û—Ä–≥–∞–Ω–∏–∫–∞' },
        { key: 'compound',   label: '–í–µ—â–µ—Å—Ç–≤–∞' },
        { key: 'indicator',  label: '–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã' },
    ];

    // ========================================
    // INITIALIZATION
    // ========================================
    function init() {
        loadHistory();
        renderCategoryFilters();
        renderShelf();
        renderTable();
        renderFlask();
        renderHistory();
        bindSearch();
        console.log('‚úÖ ChemLab v2 initialized (' + REACTIONS.length + ' reactions)');
    }

    // ========================================
    // RENDER CATEGORY CHIPS
    // ========================================
    function renderCategoryFilters() {
        const container = document.getElementById('chem-cat-filters');
        if (!container) return;
        container.innerHTML = CATEGORIES.map(c =>
            `<div class="chem-cat-chip${c.key === activeCategory ? ' active' : ''}" 
                  onclick="ChemLab.filterCategory('${c.key}')">${c.label}</div>`
        ).join('');
    }

    function filterCategory(cat) {
        activeCategory = cat;
        renderCategoryFilters();
        renderShelf();
    }

    // ========================================
    // RENDER SUBSTANCE SHELF
    // ========================================
    function renderShelf() {
        const container = document.getElementById('chem-shelf');
        if (!container) return;

        const filtered = Object.values(SUBSTANCES).filter(s => {
            const matchCat = activeCategory === 'all' || s.cat === activeCategory;
            const matchSearch = !searchQuery ||
                s.name.toLowerCase().includes(searchQuery) ||
                s.symbol.toLowerCase().includes(searchQuery) ||
                s.id.toLowerCase().includes(searchQuery);
            return matchCat && matchSearch;
        });

        if (filtered.length === 0) {
            container.innerHTML = '<div style="grid-column:1/-1;text-align:center;color:rgba(255,255,255,0.2);padding:30px;">–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ</div>';
            return;
        }

        container.innerHTML = filtered.map(s => {
            const onTable = tableItems.includes(s.id);
            return `
                <div class="chem-bottle${onTable ? ' on-table' : ''}" 
                     onclick="ChemLab.addToTable('${s.id}')"
                     title="${s.name} (${s.symbol})">
                    ${s.num ? `<span class="bottle-number">${s.num}</span>` : ''}
                    <div class="bottle-icon cat-${s.cat}">${s.symbol}</div>
                    <div class="bottle-name">${s.name}</div>
                </div>`;
        }).join('');
    }

    function bindSearch() {
        const input = document.getElementById('chem-search-input');
        if (!input) return;
        input.addEventListener('input', function() {
            searchQuery = this.value.toLowerCase().trim();
            renderShelf();
        });
    }

    // ========================================
    // TABLE LOGIC (staging area)
    // ========================================
    function addToTable(id) {
        if (tableItems.includes(id)) {
            removeFromTable(id);
            return;
        }
        if (tableItems.length >= 5) {
            toast('–ú–∞–∫—Å–∏–º—É–º 5 –≤–µ—â–µ—Å—Ç–≤ –Ω–∞ —Å—Ç–æ–ª–µ');
            return;
        }
        tableItems.push(id);
        renderTable();
        renderShelf();
    }

    function removeFromTable(id) {
        tableItems = tableItems.filter(x => x !== id);
        // Also remove from flask if present
        flaskItems = flaskItems.filter(x => x !== id);
        renderTable();
        renderShelf();
        renderFlask();
    }

    function renderTable() {
        const container = document.getElementById('chem-table-items');
        if (!container) return;

        container.innerHTML = tableItems.map(id => {
            const s = SUBSTANCES[id];
            if (!s) return '';
            const inFlask = flaskItems.includes(id);
            return `
                <div class="table-substance${inFlask ? ' in-flask' : ''}" onclick="ChemLab.pourToFlask('${id}')">
                    <span class="sub-symbol">${s.symbol}</span>
                    <span class="sub-name">${s.name}</span>
                    <div class="sub-remove" onclick="event.stopPropagation(); ChemLab.removeFromTable('${id}')">√ó</div>
                </div>`;
        }).join('');
    }

    // ========================================
    // FLASK LOGIC (pour from table‚Üíflask)
    // ========================================
    function pourToFlask(id) {
        if (flaskItems.includes(id)) {
            // Remove from flask
            flaskItems = flaskItems.filter(x => x !== id);
        } else {
            if (flaskItems.length >= 3) {
                toast('–ú–∞–∫—Å–∏–º—É–º 3 –≤–µ—â–µ—Å—Ç–≤–∞ –≤ –∫–æ–ª–±–µ');
                return;
            }
            flaskItems.push(id);
        }
        renderFlask();
        renderTable();
    }

    function renderFlask() {
        const liquid = document.querySelector('#chem-flask .flask-liquid');
        const tags = document.querySelector('#chem-flask .flask-tags');
        if (!liquid || !tags) return;

        if (flaskItems.length > 0) {
            liquid.classList.add('has-content');
            const colors = flaskItems.map(id => {
                const s = SUBSTANCES[id];
                const catColors = {
                    nonmetal:'#00b894', alkali:'#e17055', alkaline:'#fdcb6e', halogen:'#a29bfe',
                    noble:'#636e72', transition:'#ffeaa7', metal:'#74b9ff', compound:'#fd79a8',
                    acid:'#ff6b6b', base:'#4834d4', salt:'#7ed6df', organic:'#badc58',
                    oxide:'#f8a5c2', indicator:'#cf6a87'
                };
                return s ? (catColors[s.cat] || '#6c5ce7') : '#6c5ce7';
            });
            liquid.style.background = colors.length === 1
                ? colors[0] + '88'
                : `linear-gradient(180deg, ${colors.map((c,i) => c+'88 '+(i*100/(colors.length-1))+'%').join(', ')})`;
            tags.innerHTML = flaskItems.map(id => {
                const s = SUBSTANCES[id];
                return `<span class="flask-tag">${s ? s.symbol : id}</span>`;
            }).join('');
        } else {
            liquid.classList.remove('has-content', 'bubbling');
            liquid.style.background = '';
            tags.innerHTML = '';
        }
    }

    // ========================================
    // REACTION ENGINE
    // ========================================
    function mixReactants() {
        if (flaskItems.length < 2) {
            toast('–î–æ–±–∞–≤—å—Ç–µ –º–∏–Ω–∏–º—É–º 2 –≤–µ—â–µ—Å—Ç–≤–∞ –≤ –∫–æ–ª–±—É (–Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –≤–µ—â–µ—Å—Ç–≤–∞ –Ω–∞ —Å—Ç–æ–ª–µ)');
            return;
        }

        const reaction = findReaction(flaskItems);

        if (!reaction) {
            showNoReaction();
            return;
        }

        playReaction(reaction);
    }

    function findReaction(items) {
        for (const r of REACTIONS) {
            const rSet = [...r.r].sort().join(',');
            for (let i = 0; i < items.length; i++) {
                for (let j = i + 1; j < items.length; j++) {
                    const pair = [items[i], items[j]].sort().join(',');
                    if (pair === rSet) return r;
                }
            }
        }
        return null;
    }

    function playReaction(reaction) {
        const zone = document.querySelector('.chem-workbench');
        const btn = document.querySelector('.chem-mix-btn');
        const flask = document.querySelector('#chem-flask');

        // Button pulse
        if (btn) btn.classList.add('reacting');
        setTimeout(() => btn && btn.classList.remove('reacting'), 800);

        // Danger shake
        if (reaction.danger >= 3) {
            zone && zone.classList.add('shake-danger');
            setTimeout(() => zone && zone.classList.remove('shake-danger'), 600);
        }

        // Particles
        spawnParticles(flask, reaction);

        // Effects based on type
        if (reaction.type === 'exo') {
            if (reaction.danger >= 3) spawnFireSparks(flask);
            spawnSmoke(flask);
        }
        if (reaction.type === 'endo') spawnIceCrystals(flask);

        // Flash
        if (flask) {
            const flash = document.createElement('div');
            flash.className = 'explosion-flash';
            flask.appendChild(flash);
            setTimeout(() => flash.remove(), 500);
        }

        // Update flask liquid
        setTimeout(() => {
            const liquid = document.querySelector('#chem-flask .flask-liquid');
            if (liquid) {
                liquid.style.background = reaction.color;
                liquid.classList.add('bubbling');
                setTimeout(() => liquid.classList.remove('bubbling'), 3000);
            }

            // Flask glow
            if (flask) {
                const glowColor = reaction.danger >= 3 ? 'rgba(255,71,87,0.6)' : 'rgba(108,92,231,0.6)';
                flask.style.setProperty('--glow-color', glowColor);
                flask.classList.add('flask-glow');
                setTimeout(() => flask.classList.remove('flask-glow'), 3000);
            }
        }, 300);

        // Show equation
        setTimeout(() => {
            const eqBox = document.getElementById('chem-equation-box');
            if (eqBox) {
                eqBox.innerHTML = formatEquation(reaction.eq);
                eqBox.classList.add('visible');
            }
        }, 500);

        // Show info card
        setTimeout(() => showInfoCard(reaction), 700);

        // History
        addToHistory(reaction);
        totalReactions++;
        renderHistory();

        // Haptic
        if (navigator.vibrate) navigator.vibrate(reaction.danger >= 3 ? [100, 50, 100] : 80);
    }

    function showNoReaction() {
        const names = flaskItems.map(id => {
            const s = SUBSTANCES[id];
            return s ? s.name : id;
        }).join(' + ');

        const eqBox = document.getElementById('chem-equation-box');
        if (eqBox) {
            eqBox.innerHTML = `<span style="color:rgba(255,255,255,0.3)">‚ö†Ô∏è ${names} ‚Äî —Ä–µ–∞–∫—Ü–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞</span>`;
            eqBox.classList.add('visible');
        }
        hideInfoCard();
        toast('–≠—Ç–∏ –≤–µ—â–µ—Å—Ç–≤–∞ –Ω–µ —Ä–µ–∞–≥–∏—Ä—É—é—Ç (–∏–ª–∏ —Ä–µ–∞–∫—Ü–∏—è –Ω–µ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö)');
    }

    function formatEquation(eq) {
        return eq
            .replace(/‚Üí/g, '<span class="eq-arrow">‚Üí</span>')
            .replace(/‚áå/g, '<span class="eq-arrow">‚áå</span>')
            .replace(/‚Üë/g, '<span class="eq-state">‚Üë</span>')
            .replace(/‚Üì/g, '<span class="eq-state">‚Üì</span>');
    }

    // ========================================
    // INFO CARD
    // ========================================
    function showInfoCard(r) {
        const card = document.getElementById('chem-info-card');
        if (!card) return;

        const typeLabel = r.type === 'exo' ? '–≠–∫–∑–æ—Ç–µ—Ä–º–∏—á–µ—Å–∫–∞—è' : r.type === 'endo' ? '–≠–Ω–¥–æ—Ç–µ—Ä–º–∏—á–µ—Å–∫–∞—è' : '–û–±–º–µ–Ω–Ω–∞—è';
        const typeIcon = r.type === 'exo' ? 'üî•' : r.type === 'endo' ? '‚ùÑÔ∏è' : 'üîÑ';
        const typeClass = r.type;
        const dangerStars = '‚ö†Ô∏è'.repeat(Math.min(r.danger, 5));

        card.innerHTML = `
            <div class="info-card-header">
                <div class="info-icon-circle ${typeClass}">${typeIcon}</div>
                <h4>${r.name}</h4>
                <span class="reaction-badge badge-${typeClass}">${typeLabel}</span>
                ${r.danger >= 3 ? `<span class="reaction-badge badge-danger">–û–ü–ê–°–ù–û</span>` : ''}
            </div>
            <div class="info-card-body">
                <div class="info-details-grid">
                    <div class="info-detail">
                        <div class="info-detail-label">–≠–Ω–µ—Ä–≥–∏—è</div>
                        <div class="info-detail-value">${r.energy}</div>
                    </div>
                    <div class="info-detail">
                        <div class="info-detail-label">–£—Å–ª–æ–≤–∏—è</div>
                        <div class="info-detail-value">${r.cond}</div>
                    </div>
                    <div class="info-detail">
                        <div class="info-detail-label">–ü—Ä–æ–¥—É–∫—Ç—ã</div>
                        <div class="info-detail-value">${r.products.join(', ')}</div>
                    </div>
                    <div class="info-detail">
                        <div class="info-detail-label">–û–ø–∞—Å–Ω–æ—Å—Ç—å</div>
                        <div class="info-detail-value">${r.danger === 0 ? '–ë–µ–∑–æ–ø–∞—Å–Ω–æ ‚úÖ' : dangerStars + ' ' + r.danger + '/5'}</div>
                    </div>
                </div>
                <div class="info-description">${r.desc}</div>
                ${r.med ? `
                    <div class="info-medical">
                        <h5>üè• –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ</h5>
                        <p>${r.med}</p>
                    </div>
                ` : ''}
                ${r.danger >= 3 ? `
                    <div class="info-danger-warning">
                        ‚ò†Ô∏è <strong>–í–ù–ò–ú–ê–ù–ò–ï:</strong> –≠—Ç–∞ —Ä–µ–∞–∫—Ü–∏—è –æ–ø–∞—Å–Ω–∞! –ù–µ –ø—ã—Ç–∞–π—Ç–µ—Å—å –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ –±–µ–∑ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –Ω–∞–¥–∑–æ—Ä–∞!
                    </div>
                ` : ''}
            </div>`;
        card.classList.add('visible');
    }

    function hideInfoCard() {
        const card = document.getElementById('chem-info-card');
        if (card) card.classList.remove('visible');
    }

    // ========================================
    // VISUAL EFFECTS
    // ========================================
    function spawnParticles(target, reaction) {
        if (!target) return;
        const rect = target.getBoundingClientRect();
        const relX = target.offsetWidth / 2;
        const relY = target.offsetHeight / 2;
        const count = reaction.danger >= 3 ? 30 : 15;

        for (let i = 0; i < count; i++) {
            const p = document.createElement('div');
            p.className = 'reaction-particle';
            const angle = (Math.PI * 2 / count) * i + Math.random() * 0.5;
            const dist = 30 + Math.random() * (reaction.danger >= 3 ? 120 : 60);
            p.style.left = relX + 'px';
            p.style.top = relY + 'px';
            p.style.setProperty('--dx', Math.cos(angle) * dist + 'px');
            p.style.setProperty('--dy', Math.sin(angle) * dist + 'px');
            p.style.setProperty('--dur', (0.5 + Math.random() * 0.5) + 's');
            p.style.background = reaction.color || '#6c5ce7';
            p.style.width = (4 + Math.random() * 4) + 'px';
            p.style.height = p.style.width;
            target.appendChild(p);
            setTimeout(() => p.remove(), 1500);
        }
    }

    function spawnSmoke(target) {
        if (!target) return;
        for (let i = 0; i < 5; i++) {
            setTimeout(() => {
                const s = document.createElement('div');
                s.className = 'smoke-puff';
                s.style.left = (target.offsetWidth / 2 - 15 + Math.random() * 30) + 'px';
                s.style.top = (target.offsetHeight * 0.3) + 'px';
                target.appendChild(s);
                setTimeout(() => s.remove(), 2500);
            }, i * 150);
        }
    }

    function spawnFireSparks(target) {
        if (!target) return;
        for (let i = 0; i < 12; i++) {
            const f = document.createElement('div');
            f.className = 'fire-spark';
            const angle = Math.random() * Math.PI * 2;
            const dist = 20 + Math.random() * 60;
            f.style.left = (target.offsetWidth / 2) + 'px';
            f.style.top = (target.offsetHeight * 0.3) + 'px';
            f.style.setProperty('--dx', Math.cos(angle) * dist + 'px');
            f.style.setProperty('--dy', (Math.sin(angle) * dist - 30) + 'px');
            f.style.setProperty('--rot', (Math.random() * 360) + 'deg');
            target.appendChild(f);
            setTimeout(() => f.remove(), 1000);
        }
    }

    function spawnIceCrystals(target) {
        if (!target) return;
        const symbols = ['‚ùÑÔ∏è', '‚ùÜ', '‚úß', '‚óÜ'];
        for (let i = 0; i < 6; i++) {
            setTimeout(() => {
                const c = document.createElement('div');
                c.className = 'ice-crystal';
                c.textContent = symbols[i % symbols.length];
                c.style.left = (target.offsetWidth * 0.2 + Math.random() * target.offsetWidth * 0.6) + 'px';
                c.style.top = (target.offsetHeight * 0.4) + 'px';
                target.appendChild(c);
                setTimeout(() => c.remove(), 2000);
            }, i * 100);
        }
    }

    // ========================================
    // CLEAR
    // ========================================
    function clearAll() {
        tableItems = [];
        flaskItems = [];
        renderTable();
        renderShelf();
        renderFlask();
        hideInfoCard();
        const eqBox = document.getElementById('chem-equation-box');
        if (eqBox) { eqBox.classList.remove('visible'); eqBox.innerHTML = ''; }

        const liquid = document.querySelector('#chem-flask .flask-liquid');
        if (liquid) {
            liquid.classList.remove('has-content', 'bubbling');
            liquid.style.background = '';
        }
        const tags = document.querySelector('#chem-flask .flask-tags');
        if (tags) tags.innerHTML = '';
    }

    // ========================================
    // HISTORY
    // ========================================
    function addToHistory(r) {
        history.unshift({ eq: r.eq, name: r.name, type: r.type, danger: r.danger, ts: Date.now() });
        if (history.length > 30) history.pop();
        saveHistory();
    }

    function renderHistory() {
        const list = document.getElementById('chem-hist-list');
        const valR = document.getElementById('chem-stat-total');
        const valU = document.getElementById('chem-stat-unique');

        if (valR) valR.textContent = totalReactions;
        if (valU) valU.textContent = new Set(history.map(h => h.name)).size;

        if (!list) return;
        if (history.length === 0) {
            list.innerHTML = `<div class="history-empty-msg"><i class="fas fa-flask"></i>–ü—Ä–æ–≤–µ–¥–∏—Ç–µ –ø–µ—Ä–≤—É—é —Ä–µ–∞–∫—Ü–∏—é!<br>–ù–∞–π–¥–∏—Ç–µ –≤–µ—â–µ—Å—Ç–≤–∞ ‚Üí –¥–æ–±–∞–≤—å—Ç–µ –Ω–∞ —Å—Ç–æ–ª ‚Üí –±—Ä–æ—Å—å—Ç–µ –≤ –∫–æ–ª–±—É ‚Üí —Å–º–µ—à–∞–π—Ç–µ!</div>`;
            return;
        }

        list.innerHTML = history.map((h, i) => {
            const badge = h.type === 'exo' ? 'badge-exo' : h.type === 'endo' ? 'badge-endo' : 'badge-neutral';
            const typeLabel = h.type === 'exo' ? '—ç–∫–∑–æ' : h.type === 'endo' ? '—ç–Ω–¥–æ' : '–æ–±–º–µ–Ω';
            return `<div class="hist-item" onclick="ChemLab.replayReaction(${i})">
                <div style="flex:1;min-width:0">
                    <div class="hist-eq">${h.eq.substring(0,45)}${h.eq.length>45?'‚Ä¶':''}</div>
                    <div class="hist-name">${h.name}</div>
                </div>
                <span class="hist-badge ${badge}">${typeLabel}</span>
                ${h.danger>=3?'<span class="hist-badge badge-danger" style="background:rgba(255,71,87,0.15);color:#ff4757">‚ò†Ô∏è</span>':''}
            </div>`;
        }).join('');
    }

    function replayReaction(index) {
        const h = history[index];
        if (!h) return;
        const reaction = REACTIONS.find(r => r.name === h.name);
        if (reaction) {
            tableItems = [...reaction.r];
            flaskItems = [...reaction.r];
            renderTable();
            renderShelf();
            renderFlask();
            setTimeout(() => playReaction(reaction), 400);
        }
    }

    function saveHistory() {
        try {
            localStorage.setItem('chemlab2_history', JSON.stringify(history));
            localStorage.setItem('chemlab2_total', totalReactions);
        } catch(e){}
    }
    function loadHistory() {
        try {
            const h = localStorage.getItem('chemlab2_history');
            if (h) history = JSON.parse(h);
            const t = localStorage.getItem('chemlab2_total');
            if (t) totalReactions = parseInt(t) || 0;
        } catch(e){}
    }

    // ========================================
    // TOAST
    // ========================================
    function toast(msg) {
        let t = document.getElementById('chem-toast');
        if (!t) {
            t = document.createElement('div');
            t.id = 'chem-toast';
            t.style.cssText = 'position:fixed;bottom:90px;left:50%;transform:translateX(-50%);background:rgba(20,18,35,0.95);color:#fff;padding:10px 24px;border-radius:12px;font-size:13px;z-index:9999;pointer-events:none;opacity:0;transition:opacity 0.3s;border:1px solid rgba(108,92,231,0.3);backdrop-filter:blur(12px);max-width:90vw;text-align:center;';
            document.body.appendChild(t);
        }
        t.textContent = msg;
        t.style.opacity = '1';
        clearTimeout(t._timer);
        t._timer = setTimeout(() => t.style.opacity = '0', 3000);
    }

    // ========================================
    // PUBLIC API
    // ========================================
    window.ChemLab = {
        init,
        addToTable,
        removeFromTable,
        pourToFlask,
        filterCategory,
        mixReactants,
        clearAll,
        replayReaction,
        getCount: () => REACTIONS.length,
    };

    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', init);
    } else {
        setTimeout(init, 100);
    }
})();
